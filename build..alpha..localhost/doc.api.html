<style>
.docApiDiv {
    font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
}
.docApiDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.docApiDiv a[href]:hover {
    text-decoration: underline;
}
.docApiSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.docApiCodeCommentSpan {
    background-color: #bbf;
    color: #000;
    display: block;
}
.docApiCodeKeywordSpan {
    color: #f00;
    font-weight: bold;
}
.docApiCodePre {
    background-color: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.docApiSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<div class="docApiDiv">
<h1>api documentation
    <a
        
        href="https://github.com/kaizhu256/node-swagger-lite"
        
    >(swagger-lite @ 2016.5.2)</a>
</h1>
<div class="docApiSectionDiv"><a href="#"><h1>table of contents</h1></a><ul>

    <li><a href="#module.swgg">module swgg</a><ol>
        
        <li>
            
            <span class="docApiSignatureSpan">boolean <span class="docApiSignatureSpan">swgg.</span>modeNedbInitialized</span>
        
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb">
            function <span class="docApiSignatureSpan">swgg.</span>Nedb
            <span class="docApiSignatureSpan">(options)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.apiAjax">
            function <span class="docApiSignatureSpan">swgg.</span>apiAjax
            <span class="docApiSignatureSpan">(self,options,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.apiDictUpdate">
            function <span class="docApiSignatureSpan">swgg.</span>apiDictUpdate
            <span class="docApiSignatureSpan">(options)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.collectDocListRandomCreate">
            function <span class="docApiSignatureSpan">swgg.</span>collectDocListRandomCreate
            <span class="docApiSignatureSpan">(options)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.collectDocRandomCreate">
            function <span class="docApiSignatureSpan">swgg.</span>collectDocRandomCreate
            <span class="docApiSignatureSpan">(options)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.collectionCreate">
            function <span class="docApiSignatureSpan">swgg.</span>collectionCreate
            <span class="docApiSignatureSpan">(schemaName)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.collectionInit">
            function <span class="docApiSignatureSpan">swgg.</span>collectionInit
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.collectionListInit">
            function <span class="docApiSignatureSpan">swgg.</span>collectionListInit
            <span class="docApiSignatureSpan">(optionsList,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.idDomElementCreate">
            function <span class="docApiSignatureSpan">swgg.</span>idDomElementCreate
            <span class="docApiSignatureSpan">(seed)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.idIntTimeCreate">
            function <span class="docApiSignatureSpan">swgg.</span>idIntTimeCreate
            <span class="docApiSignatureSpan">()</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.jwtDecodedEncryptAndEncode">
            function <span class="docApiSignatureSpan">swgg.</span>jwtDecodedEncryptAndEncode
            <span class="docApiSignatureSpan">(user)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.jwtEncodedDecodeAndDecrypt">
            function <span class="docApiSignatureSpan">swgg.</span>jwtEncodedDecodeAndDecrypt
            <span class="docApiSignatureSpan">(user)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.jwtEncodedSetHeader">
            function <span class="docApiSignatureSpan">swgg.</span>jwtEncodedSetHeader
            <span class="docApiSignatureSpan">(request,response)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.keyUniqueInit">
            function <span class="docApiSignatureSpan">swgg.</span>keyUniqueInit
            <span class="docApiSignatureSpan">(options)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.middlewareBodyParse">
            function <span class="docApiSignatureSpan">swgg.</span>middlewareBodyParse
            <span class="docApiSignatureSpan">(request,response,nextMiddleware)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.middlewareCrudBuiltin">
            function <span class="docApiSignatureSpan">swgg.</span>middlewareCrudBuiltin
            <span class="docApiSignatureSpan">(request,response,nextMiddleware)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.middlewareCrudEnd">
            function <span class="docApiSignatureSpan">swgg.</span>middlewareCrudEnd
            <span class="docApiSignatureSpan">(request,response,nextMiddleware)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.middlewareError">
            function <span class="docApiSignatureSpan">swgg.</span>middlewareError
            <span class="docApiSignatureSpan">(error,request,response)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.middlewareJsonpStateGet">
            function <span class="docApiSignatureSpan">swgg.</span>middlewareJsonpStateGet
            <span class="docApiSignatureSpan">(request,response,nextMiddleware)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.middlewareRouter">
            function <span class="docApiSignatureSpan">swgg.</span>middlewareRouter
            <span class="docApiSignatureSpan">(request,response,nextMiddleware)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.middlewareUserLogin">
            function <span class="docApiSignatureSpan">swgg.</span>middlewareUserLogin
            <span class="docApiSignatureSpan">(request,response,nextMiddleware)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.middlewareValidate">
            function <span class="docApiSignatureSpan">swgg.</span>middlewareValidate
            <span class="docApiSignatureSpan">(request,response,nextMiddleware)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.nedbReset">
            function <span class="docApiSignatureSpan">swgg.</span>nedbReset
            <span class="docApiSignatureSpan">(onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.normalizeParamDictSwagger">
            function <span class="docApiSignatureSpan">swgg.</span>normalizeParamDictSwagger
            <span class="docApiSignatureSpan">(data,pathObject)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.onErrorJsonapi">
            function <span class="docApiSignatureSpan">swgg.</span>onErrorJsonapi
            <span class="docApiSignatureSpan">(onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.schemaNormalizeAndCopy">
            function <span class="docApiSignatureSpan">swgg.</span>schemaNormalizeAndCopy
            <span class="docApiSignatureSpan">(schema)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.serverRespondJsonapi">
            function <span class="docApiSignatureSpan">swgg.</span>serverRespondJsonapi
            <span class="docApiSignatureSpan">(request,response,error,data,meta)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.stateInit">
            function <span class="docApiSignatureSpan">swgg.</span>stateInit
            <span class="docApiSignatureSpan">(options)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.urlBaseGet">
            function <span class="docApiSignatureSpan">swgg.</span>urlBaseGet
            <span class="docApiSignatureSpan">()</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.userLoginByPassword">
            function <span class="docApiSignatureSpan">swgg.</span>userLoginByPassword
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.userLogout">
            function <span class="docApiSignatureSpan">swgg.</span>userLogout
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.validateByParamDefList">
            function <span class="docApiSignatureSpan">swgg.</span>validateByParamDefList
            <span class="docApiSignatureSpan">(options)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.validateByPropDef">
            function <span class="docApiSignatureSpan">swgg.</span>validateByPropDef
            <span class="docApiSignatureSpan">(options)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.validateBySchema">
            function <span class="docApiSignatureSpan">swgg.</span>validateBySchema
            <span class="docApiSignatureSpan">(options)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.validateBySwagger">
            function <span class="docApiSignatureSpan">swgg.</span>validateBySwagger
            <span class="docApiSignatureSpan">(options)</span>
            </a>
            
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">object <span class="docApiSignatureSpan">swgg.</span>apiDict</span>
        
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">object <span class="docApiSignatureSpan">swgg.</span>collectionDict</span>
        
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">object <span class="docApiSignatureSpan">swgg.</span>collectionUser</span>
        
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">object <span class="docApiSignatureSpan">swgg.</span>idDomElementDict</span>
        
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">object <span class="docApiSignatureSpan">swgg.</span>local</span>
        
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">object <span class="docApiSignatureSpan">swgg.</span>swaggerJson</span>
        
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">object <span class="docApiSignatureSpan">swgg.</span>swaggerSchemaJson</span>
        
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">object <span class="docApiSignatureSpan">swgg.</span>templateApiDict</span>
        
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">object <span class="docApiSignatureSpan">swgg.</span>uiEventListenerDict</span>
        
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">string <span class="docApiSignatureSpan">swgg.</span>templateSwaggerJson</span>
        
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">string <span class="docApiSignatureSpan">swgg.</span>templateSwaggerUiLogoSmallBase64</span>
        
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">string <span class="docApiSignatureSpan">swgg.</span>templateUiDatatable</span>
        
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">string <span class="docApiSignatureSpan">swgg.</span>templateUiMain</span>
        
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">string <span class="docApiSignatureSpan">swgg.</span>templateUiOperation</span>
        
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">string <span class="docApiSignatureSpan">swgg.</span>templateUiParam</span>
        
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">string <span class="docApiSignatureSpan">swgg.</span>templateUiResource</span>
        
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">string <span class="docApiSignatureSpan">swgg.</span>templateUiResponseAjax</span>
        
        </li>
        
    </ol></li>

    <li><a href="#module.swgg.Nedb">module swgg.Nedb</a><ol>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.Nedb">
            function <span class="docApiSignatureSpan">swgg.</span>Nedb
            <span class="docApiSignatureSpan">(options)</span>
            </a>
            
        </li>
        
    </ol></li>

    <li><a href="#module.swgg.Nedb.prototype">module swgg.Nedb.prototype</a><ol>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.prototype.addToIndexes">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>addToIndexes
            <span class="docApiSignatureSpan">(doc)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.prototype.count">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>count
            <span class="docApiSignatureSpan">(query, callback)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.prototype.createNewId">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>createNewId
            <span class="docApiSignatureSpan">()</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.prototype.ensureIndex">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>ensureIndex
            <span class="docApiSignatureSpan">(options, cb)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.prototype.find">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>find
            <span class="docApiSignatureSpan">(query, projection, callback)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.prototype.findOne">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>findOne
            <span class="docApiSignatureSpan">(query, projection, callback)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.prototype.getAllData">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>getAllData
            <span class="docApiSignatureSpan">()</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.prototype.getCandidates">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>getCandidates
            <span class="docApiSignatureSpan">(query, dontExpireStaleDocs, callback)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.prototype.insert">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>insert
            <span class="docApiSignatureSpan">()</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.prototype.loadDatabase">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>loadDatabase
            <span class="docApiSignatureSpan">()</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.prototype.prepareDocumentForInsertion">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>prepareDocumentForInsertion
            <span class="docApiSignatureSpan">(newDoc)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.prototype.remove">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>remove
            <span class="docApiSignatureSpan">()</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.prototype.removeFromIndexes">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>removeFromIndexes
            <span class="docApiSignatureSpan">(doc)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.prototype.removeIndex">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>removeIndex
            <span class="docApiSignatureSpan">(fieldName, cb)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.prototype.resetIndexes">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>resetIndexes
            <span class="docApiSignatureSpan">(newData)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.prototype.update">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>update
            <span class="docApiSignatureSpan">()</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.prototype.updateIndexes">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>updateIndexes
            <span class="docApiSignatureSpan">(oldDoc, newDoc)</span>
            </a>
            
        </li>
        
    </ol></li>

    <li><a href="#module.swgg.Nedb.storage">module swgg.Nedb.storage</a><ol>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.storage.appendFile">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>appendFile
            <span class="docApiSignatureSpan">(file1, file2)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.storage.crashSafeWriteFile">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>crashSafeWriteFile
            <span class="docApiSignatureSpan">(file1, file2)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.storage.ensureDatafileIntegrity">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>ensureDatafileIntegrity
            <span class="docApiSignatureSpan">(file1, file2)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.storage.ensureFileDoesntExist">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>ensureFileDoesntExist
            <span class="docApiSignatureSpan">(file, callback)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.storage.exists">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>exists
            <span class="docApiSignatureSpan">(path, callback)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.storage.flushToStorage">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>flushToStorage
            <span class="docApiSignatureSpan">(options, callback)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.storage.mkdirp">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>mkdirp
            <span class="docApiSignatureSpan">(dir, onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.storage.readFile">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>readFile
            <span class="docApiSignatureSpan">(file1, file2)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.storage.rename">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>rename
            <span class="docApiSignatureSpan">(file1, file2)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.storage.unlink">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>unlink
            <span class="docApiSignatureSpan">(path, callback)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.swgg.Nedb.storage.writeFile">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>writeFile
            <span class="docApiSignatureSpan">(file1, file2)</span>
            </a>
            
        </li>
        
    </ol></li>

</ul></div>
    
    <div class="docApiSectionDiv">
    <h1><a href="#module.swgg" id="module.swgg">module swgg</a></h1>
        
        
        
        
        <h2>
            <a href="#element.swgg.Nedb" id="element.swgg.Nedb">
            function <span class="docApiSignatureSpan">swgg.</span>Nedb
            <span class="docApiSignatureSpan">(options)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">function Datastore(options) {
  var filename;

  // Retrocompatibility with v0.6 and before
  if (typeof options === &#x27;string&#x27;) {
    filename = options;
    this.inMemoryOnly = false;   // Default
  } else {
    options = options || {};
    filename = options.filename;
    this.inMemoryOnly = options.inMemoryOnly || false;
    this.autoload = options.autoload || false;
    this.timestampData = options.timestampData || false;
  }

  // Determine whether in memory or persistent
  if (!filename || typeof filename !== &#x27;string&#x27; || filename.length === 0) {
    this.filename = null;
    this.inMemoryOnly = true;
  } else {
    this.filename = filename;
  }

  // String comparison function
  this.compareStrings = options.compareStrings;

  // Persistence handling
  this.persistence = new Persistence({ db: this, nodeWebkitAppName: options.nodeWebkitAppName
                                      , afterSerialization: options.afterSerialization
                                      , beforeDeserialization: options.beforeDeserialization
                                      , corruptAlertThreshold: options.corruptAlertThreshold
                                      });

  // This new executor is ready if we don&#x27;t use persistence
  // If we do, it will only be ready once loadDatabase is called
  this.executor = new Executor();
  if (this.inMemoryOnly) { this.executor.ready = true; }

  // Indexed by field name, dot notation can be used
  // _id is always indexed and since _ids are generated randomly the underlying
  // binary is always well-balanced
  this.indexes = {};
  this.indexes._id = new Index({ fieldName: &#x27;_id&#x27;, unique: true });
  this.ttlIndexes = {};

  // Queue a load of the database right away and call the onload handler
  // By default (no onload handler), if there is an error there, no operation will be possible so warn the user by throwing an e\
xception
  if (this.autoload) { this.loadDatabase(options.onload || function (err) {
    if (err) { throw err; }
  }); }
}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
                local.fs.mkdirSync(&#x27;tmp&#x27;);
            }, local.utility2.nop);
            local.utility2.tryCatchOnError(function () {
                local.fs.mkdirSync(dir);
            }, local.utility2.nop);
        }
        local.swgg.modeNedbInitialized = true;
        local.swgg.collectionDict[schemaName] = new local.swgg.<span class="docApiCodeKeywordSpan">Nedb</span>({
            autoload: true,
            filename: dir + &#x27;/&#x27; + schemaName,
            timestampData: true
        });
    }
    return local.swgg.collectionDict[schemaName];
};
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.apiAjax" id="element.swgg.apiAjax">
            function <span class="docApiSignatureSpan">swgg.</span>apiAjax
            <span class="docApiSignatureSpan">(self,options,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">apiAjax = function (self,options,onError){__cov_3.f[&#x27;6&#x27;]++;__cov_3.s[&#x27;49&#x27;]++;var isMultipartFormData,tmp;__cov_3.s[&#x27;50&#x27;]++;isMultipartForm\
Data=((__cov_3.b[&#x27;4&#x27;][0]++,self.consumes)&amp;&amp;(__cov_3.b[&#x27;4&#x27;][1]++,self.consumes[0]))===&#x27;multipart/form-data&#x27;;__cov_3.s[&#x27;51&#x27;]++;loc\
al.utility2.objectSetDefault(options,{data:&#x27;&#x27;,paramDict:{},url:&#x27;&#x27;});__cov_3.s[&#x27;52&#x27;]++;local.utility2.tryCatchOnError(function(){\
__cov_3.f[&#x27;7&#x27;]++;__cov_3.s[&#x27;53&#x27;]++;local.swgg.validateByParamDefList({data:local.swgg.normalizeParamDictSwagger(local.utility2.j\
sonCopy(options.paramDict),self),dataReadonlyRemove:options.paramDict,key:self.operationId,paramDefList:self.parameters});},func\
tion(error){__cov_3.f[&#x27;8&#x27;]++;__cov_3.s[&#x27;54&#x27;]++;options.errorValidate=error;__cov_3.s[&#x27;55&#x27;]++;onError(error);});__cov_3.s[&#x27;56&#x27;]++\
;if(options.errorValidate){__cov_3.b[&#x27;5&#x27;][0]++;__cov_3.s[&#x27;57&#x27;]++;return;}else{__cov_3.b[&#x27;5&#x27;][1]++;}__cov_3.s[&#x27;58&#x27;]++;local.utili\
ty2.objectSetDefault(options,{inForm:isMultipartFormData?(__cov_3.b[&#x27;6&#x27;][0]++,new local.utility2.FormData()):(__cov_3.b[&#x27;6&#x27;][1]+\
+,&#x27;&#x27;),inHeader:{},inPath:self._path,inQuery:&#x27;&#x27;,headers:{},method:self._method,responseType:(__cov_3.b[&#x27;8&#x27;][0]++,self.produces)&amp;&amp;\
(__cov_3.b[&#x27;8&#x27;][1]++,self.produces[0].indexOf(&#x27;application/octet-stream&#x27;)===0)?(__cov_3.b[&#x27;7&#x27;][0]++,&#x27;arraybuffer&#x27;):(__cov_3.b[&#x27;7\
&#x27;][1]++,&#x27;&#x27;)});__cov_3.s[&#x27;59&#x27;]++;self.parameters.forEach(function(paramDef){__cov_3.f[&#x27;9&#x27;]++;__cov_3.s[&#x27;60&#x27;]++;tmp=options.paramD\
ict[paramDef.name];__cov_3.s[&#x27;61&#x27;]++;if(tmp===undefined){__cov_3.b[&#x27;9&#x27;][0]++;__cov_3.s[&#x27;62&#x27;]++;return;}else{__cov_3.b[&#x27;9&#x27;][1]++;\
}__cov_3.s[&#x27;63&#x27;]++;if(!((__cov_3.b[&#x27;11&#x27;][0]++,paramDef.type===&#x27;string&#x27;)||(__cov_3.b[&#x27;11&#x27;][1]++,tmp instanceof local.utility2.Blo\
b))){__cov_3.b[&#x27;10&#x27;][0]++;__cov_3.s[&#x27;64&#x27;]++;tmp=JSON.stringify(tmp);}else{__cov_3.b[&#x27;10&#x27;][1]++;}__cov_3.s[&#x27;65&#x27;]++;switch(paramDe\
f.in){case&#x27;body&#x27;:__cov_3.b[&#x27;12&#x27;][0]++;__cov_3.s[&#x27;66&#x27;]++;options.inBody=tmp;__cov_3.s[&#x27;67&#x27;]++;break;case&#x27;formData&#x27;:__cov_3.b[&#x27;12&#x27;\
][1]++;__cov_3.s[&#x27;68&#x27;]++;if(isMultipartFormData){__cov_3.b[&#x27;13&#x27;][0]++;__cov_3.s[&#x27;69&#x27;]++;options.inForm.append(paramDef.name,tmp,\
(__cov_3.b[&#x27;14&#x27;][0]++,tmp)&amp;&amp;(__cov_3.b[&#x27;14&#x27;][1]++,tmp.name));__cov_3.s[&#x27;70&#x27;]++;break;}else{__cov_3.b[&#x27;13&#x27;][1]++;}__cov_3.s[&#x27;71&#x27;]\
++;options.inForm+=&#x27;&amp;&#x27;+encodeURIComponent(paramDef.name)+&#x27;=&#x27;+encodeURIComponent(tmp);__cov_3.s[&#x27;72&#x27;]++;break;case&#x27;header&#x27;:__cov_\
3.b[&#x27;12&#x27;][2]++;__cov_3.s[&#x27;73&#x27;]++;options.inHeader[encodeURIComponent(paramDef.name.toLowerCase())]=tmp;__cov_3.s[&#x27;74&#x27;]++;break;c\
ase&#x27;query&#x27;:__cov_3.b[&#x27;12&#x27;][3]++;__cov_3.s[&#x27;75&#x27;]++;options.inQuery+=&#x27;&amp;&#x27;+encodeURIComponent(paramDef.name)+&#x27;=&#x27;+encodeURIComponent(\
tmp);__cov_3.s[&#x27;76&#x27;]++;break;case&#x27;path&#x27;:__cov_3.b[&#x27;12&#x27;][4]++;__cov_3.s[&#x27;77&#x27;]++;options.inPath=options.inPath.replace(&#x27;{&#x27;+paramDe\
f.name+&#x27;}&#x27;,encodeURIComponent(tmp));__cov_3.s[&#x27;78&#x27;]++;break;}});__cov_3.s[&#x27;79&#x27;]++;options.data=(__cov_3.b[&#x27;15&#x27;][0]++,options.inB\
ody)||(__cov_3.b[&#x27;15&#x27;][1]++,isMultipartFormData?(__cov_3.b[&#x27;16&#x27;][0]++,options.inForm):(__cov_3.b[&#x27;16&#x27;][1]++,options.inForm.slice\
(1)));__cov_3.s[&#x27;80&#x27;]++;local.utility2.objectSetOverride(options.headers,options.inHeader);__cov_3.s[&#x27;81&#x27;]++;if(options.inForm){\
__cov_3.b[&#x27;17&#x27;][0]++;__cov_3.s[&#x27;82&#x27;]++;options.headers[&#x27;Content-Type&#x27;]=isMultipartFormData?(__cov_3.b[&#x27;18&#x27;][0]++,&#x27;multipart/form\
-data&#x27;):(__cov_3.b[&#x27;18&#x27;][1]++,&#x27;application/x-www-form-urlencoded&#x27;);}else{__cov_3.b[&#x27;17&#x27;][1]++;}__cov_3.s[&#x27;83&#x27;]++;options.jwtEnco\
ded=(__cov_3.b[&#x27;19&#x27;][0]++,options.jwtEncoded)||(__cov_3.b[&#x27;19&#x27;][1]++,local.swgg.userJwtEncoded);__cov_3.s[&#x27;84&#x27;]++;if(options.jwt\
Encoded){__cov_3.b[&#x27;20&#x27;][0]++;__cov_3.s[&#x27;85&#x27;]++;options.headers.Authorization=(__cov_3.b[&#x27;21&#x27;][0]++,options.headers.Authorizatio\
n)||(__cov_3.b[&#x27;21&#x27;][1]++,&#x27;Bearer &#x27;+options.jwtEncoded);}else{__cov_3.b[&#x27;20&#x27;][1]++;}__cov_3.s[&#x27;86&#x27;]++;options.url=(local.swgg.ur\
lBaseGet()+options.inPath+&#x27;?&#x27;+options.inQuery.slice(1)).replace(/\?$/,&#x27;&#x27;);__cov_3.s[&#x27;87&#x27;]++;if(!((__cov_3.b[&#x27;23&#x27;][0]++,options.h\
eaders[&#x27;Content-Type&#x27;])||(__cov_3.b[&#x27;23&#x27;][1]++,options.headers[&#x27;content-type&#x27;]))){__cov_3.b[&#x27;22&#x27;][0]++;__cov_3.s[&#x27;88&#x27;]++;options\
.headers[&#x27;content-type&#x27;]=&#x27;application/json; charset=UTF-8&#x27;;}else{_ ...</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    break;
}
// update apiDict
self = local.swgg.apiDict[key] = local.swgg.apiDict[self._keyPath] =
    local.utility2.jsonCopy(self);
// init _ajax
self._ajax = function (options, onError) {
    return local.swgg.<span class="docApiCodeKeywordSpan">apiAjax</span>(self, options, onError);
};
// remove underscored keys from self
tmp = local.utility2.jsonCopy(self);
Object.keys(tmp).forEach(function (key) {
    if (key[0] === &#x27;_&#x27;) {
        delete tmp[key];
    }
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.apiDictUpdate" id="element.swgg.apiDictUpdate">
            function <span class="docApiSignatureSpan">swgg.</span>apiDictUpdate
            <span class="docApiSignatureSpan">(options)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">apiDictUpdate = function (options){__cov_3.f[&#x27;12&#x27;]++;__cov_3.s[&#x27;97&#x27;]++;var tmp;__cov_3.s[&#x27;98&#x27;]++;options=(__cov_3.b[&#x27;25&#x27;][0]++,options)||(__cov_\
3.b[&#x27;25&#x27;][1]++,{});__cov_3.s[&#x27;99&#x27;]++;local.swgg.apiDict=(__cov_3.b[&#x27;26&#x27;][0]++,local.swgg.apiDict)||(__cov_3.b[&#x27;26&#x27;][1]++,{});__c\
ov_3.s[&#x27;100&#x27;]++;local.swgg.swaggerJson=(__cov_3.b[&#x27;27&#x27;][0]++,local.swgg.swaggerJson)||(__cov_3.b[&#x27;27&#x27;][1]++,JSON.parse(local.swg\
g.templateSwaggerJson));__cov_3.s[&#x27;101&#x27;]++;tmp={};__cov_3.s[&#x27;102&#x27;]++;[local.swgg.swaggerJson.tags,(__cov_3.b[&#x27;28&#x27;][0]++,options.\
tags)||(__cov_3.b[&#x27;28&#x27;][1]++,[])].forEach(function(tagList){__cov_3.f[&#x27;13&#x27;]++;__cov_3.s[&#x27;103&#x27;]++;tagList.forEach(function(tag){_\
_cov_3.f[&#x27;14&#x27;]++;__cov_3.s[&#x27;104&#x27;]++;local.utility2.objectSetOverride(tmp,local.utility2.objectLiteralize({&#x27;$[]&#x27;:[tag.name,tag]})\
);},2);});__cov_3.s[&#x27;105&#x27;]++;tmp=Object.keys(tmp).sort().map(function(key){__cov_3.f[&#x27;15&#x27;]++;__cov_3.s[&#x27;106&#x27;]++;return tmp[key];\
});__cov_3.s[&#x27;107&#x27;]++;options=local.utility2.objectSetOverride(local.swgg.swaggerJson,options,10);__cov_3.s[&#x27;108&#x27;]++;local.swgg.\
swaggerJson.tags=tmp;__cov_3.s[&#x27;109&#x27;]++;Object.keys(options.definitions).forEach(function(schemaName){__cov_3.f[&#x27;16&#x27;]++;__cov_3.\
s[&#x27;110&#x27;]++;options.definitions[schemaName]=local.swgg.schemaNormalizeAndCopy(options.definitions[schemaName]);});__cov_3.s[&#x27;111&#x27;\
]++;Object.keys(options.paths).forEach(function(path){__cov_3.f[&#x27;17&#x27;]++;__cov_3.s[&#x27;112&#x27;]++;Object.keys(options.paths[path]).forE\
ach(function(method){__cov_3.f[&#x27;18&#x27;]++;__cov_3.s[&#x27;113&#x27;]++;var self;__cov_3.s[&#x27;114&#x27;]++;self=options.paths[path][method];__cov_3.s\
[&#x27;115&#x27;]++;self._method=method;__cov_3.s[&#x27;116&#x27;]++;self._path=path;__cov_3.s[&#x27;117&#x27;]++;local.utility2.objectSetOverride(local.swgg.\
apiDict,local.utility2.objectLiteralize({&#x27;$[]&#x27;:[self.tags[0]+&#x27; &#x27;+self.operationId,self]}),2);});});__cov_3.s[&#x27;118&#x27;]++;Object.key\
s((__cov_3.b[&#x27;29&#x27;][0]++,options[&#x27;x-swgg-apiDict&#x27;])||(__cov_3.b[&#x27;29&#x27;][1]++,{})).forEach(function(key){__cov_3.f[&#x27;19&#x27;]++;__cov_3.s\
[&#x27;119&#x27;]++;local.utility2.objectSetOverride(local.swgg.apiDict,local.utility2.objectLiteralize({&#x27;$[]&#x27;:[key,local.utility2.jsonCop\
y(options[&#x27;x-swgg-apiDict&#x27;][key])]}),10);});__cov_3.s[&#x27;120&#x27;]++;Object.keys(local.swgg.apiDict).forEach(function(key){__cov_3.f[&#x27;\
20&#x27;]++;__cov_3.s[&#x27;121&#x27;]++;var self;__cov_3.s[&#x27;122&#x27;]++;self=local.swgg.apiDict[key];__cov_3.s[&#x27;123&#x27;]++;if(key===self._keyPath){__\
cov_3.b[&#x27;30&#x27;][0]++;__cov_3.s[&#x27;124&#x27;]++;return;}else{__cov_3.b[&#x27;30&#x27;][1]++;}__cov_3.s[&#x27;125&#x27;]++;self._operationId=(__cov_3.b[&#x27;31&#x27;][0\
]++,self._operationId)||(__cov_3.b[&#x27;31&#x27;][1]++,key.split(&#x27; &#x27;)[1]);__cov_3.s[&#x27;126&#x27;]++;self._fileUploadNumber=1;__cov_3.s[&#x27;127&#x27;]++;\
self._operationId.replace(/^fileUploadManyByForm\.(\d+)/,function(match0,match1){__cov_3.f[&#x27;21&#x27;]++;__cov_3.s[&#x27;128&#x27;]++;local.util\
ity2.nop(match0);__cov_3.s[&#x27;129&#x27;]++;self._fileUploadNumber=Number(match1);});__cov_3.s[&#x27;130&#x27;]++;tmp=local.swgg.keyUniqueInit({op\
erationId:self._operationId});__cov_3.s[&#x27;131&#x27;]++;self._keyAlias=tmp.keyAlias;__cov_3.s[&#x27;132&#x27;]++;self._keyUnique=tmp.keyUnique;__\
cov_3.s[&#x27;133&#x27;]++;self._tags0=key.split(&#x27; &#x27;)[0];__cov_3.s[&#x27;134&#x27;]++;if(local.swgg.templateApiDict[self._operationId.split(&#x27;.&#x27;)[0]]\
){__cov_3.b[&#x27;32&#x27;][0]++;__cov_3.s[&#x27;135&#x27;]++;local.utility2.objectSetDefault(self,JSON.parse(local.swgg.templateApiDict[self._opera\
tionId.split(&#x27;.&#x27;)[0]].replace(/\{\{_fileUploadNumber\}\}/g,self._fileUploadNumber).replace(/\{\{_keyAlias\}\}/g,self._keyAlias).\
replace(/\{\{_keyUnique\}\}/g,self._keyUnique).replace(/\{\{_schemaName\}\}/g,self._schemaName).replace(/\{\{_tags0\}\}/g,self._\
tags0).replace(/\{\{operationId\}\}/g,self._operationId)));}else{__cov_3.b[&#x27;32&#x27;][1]++;}__cov_3.s[&#x27;136&#x27;]++;local.utility2.objectS\
etDefault(self,{_keyOperationId:key,operationId:self._operationId,parameters:[],responses:{200:{description:&#x27;ok - &#x27;+&#x27;http://json\
api.org/format/#document-top-level&#x27;,schema:{$ref:&#x27;#/definitions/BuiltinJsonapiResponse&#x27;}}},tags:[self._tags0]});__cov_3.s[&#x27;137&#x27;]\
++;self._method=self._method.toUpperCase();__cov_3.s[&#x27;138&#x27;]++;self._keyPath=self._method+&#x27; &#x27;+self._path.replace(/\{.*?\}/g,&#x27;&#x27;);_\
_cov_3.s[&#x27;139&#x27;]++;if(self._schemaName){__cov_3.b[&#x27;33&#x27;][0]++;__cov_ ...</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    (function () {
// init petstore-api - frontend
local.tmp =
    JSON.parse(local.utility2.assetsDict[&#x27;/assets.swgg.lib.swagger.petstore.json&#x27;]);
delete local.tmp.basePath;
delete local.tmp.host;
delete local.tmp.schemes;
local.swgg.<span class="docApiCodeKeywordSpan">apiDictUpdate</span>(local.tmp);
// init petstore-api - backend
local.swgg.apiDictUpdate({
    definitions: {
        File: {
            allOf: [{ $ref: &#x27;#/definitions/BuiltinFile&#x27; }]
        },
        Pet: {
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.collectDocListRandomCreate" id="element.swgg.collectDocListRandomCreate">
            function <span class="docApiSignatureSpan">swgg.</span>collectDocListRandomCreate
            <span class="docApiSignatureSpan">(options)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">collectDocListRandomCreate = function (options){__cov_3.f[&#x27;26&#x27;]++;__cov_3.s[&#x27;161&#x27;]++;local.utility2.objectSetDefault(options,{collectDocList:[]});__cov_3.s[&#x27;\
162&#x27;]++;for(options.ii=0;options.ii&lt;options.length;options.ii+=1){__cov_3.s[&#x27;163&#x27;]++;options.collectDocList.push(local.swgg.coll\
ectDocRandomCreate(options));}__cov_3.s[&#x27;164&#x27;]++;return options.collectDocList;}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    drop: true,
    ensureIndexList: [{
        fieldName: &#x27;id&#x27;,
        unique: true
    }],
    name: &#x27;File&#x27;
}, {
    collectDocList: local.swgg.<span class="docApiCodeKeywordSpan">collectDocListRandomCreate</span>({
        collectDocList: [{
            id: 0,
            name: &#x27;birdie&#x27;,
            photoUrls: [],
            status: &#x27;available&#x27;,
            tags: [{ name: &#x27;bird&#x27;}]
        }, {
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.collectDocRandomCreate" id="element.swgg.collectDocRandomCreate">
            function <span class="docApiSignatureSpan">swgg.</span>collectDocRandomCreate
            <span class="docApiSignatureSpan">(options)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">collectDocRandomCreate = function (options){__cov_3.f[&#x27;27&#x27;]++;__cov_3.s[&#x27;166&#x27;]++;var collectDoc,ii,max,min,propDef,tmp;__cov_3.s[&#x27;167&#x27;]++;collectDoc={};_\
_cov_3.s[&#x27;168&#x27;]++;Object.keys(options.properties).forEach(function(key){__cov_3.f[&#x27;28&#x27;]++;__cov_3.s[&#x27;169&#x27;]++;propDef=options.pro\
perties[key];__cov_3.s[&#x27;170&#x27;]++;if(propDef.readOnly){__cov_3.b[&#x27;37&#x27;][0]++;__cov_3.s[&#x27;171&#x27;]++;return;}else{__cov_3.b[&#x27;37&#x27;][1]++;}\
__cov_3.s[&#x27;172&#x27;]++;if(propDef.enum){__cov_3.b[&#x27;38&#x27;][0]++;__cov_3.s[&#x27;173&#x27;]++;collectDoc[key]=local.utility2.listGetElementRandom(\
propDef.enum);__cov_3.s[&#x27;174&#x27;]++;return;}else{__cov_3.b[&#x27;38&#x27;][1]++;}__cov_3.s[&#x27;175&#x27;]++;max=isFinite(propDef.maximum)?(__cov_3.b[\
&#x27;39&#x27;][0]++,propDef.maximum):(__cov_3.b[&#x27;39&#x27;][1]++,999);__cov_3.s[&#x27;176&#x27;]++;min=isFinite(propDef.maximum)?(__cov_3.b[&#x27;40&#x27;][0]++,pr\
opDef.minimum):(__cov_3.b[&#x27;40&#x27;][1]++,-999);__cov_3.s[&#x27;177&#x27;]++;switch(propDef.type){case&#x27;array&#x27;:__cov_3.b[&#x27;41&#x27;][0]++;__cov_3.s[&#x27;1\
78&#x27;]++;tmp=[];__cov_3.s[&#x27;179&#x27;]++;for(ii=0;ii&lt;((__cov_3.b[&#x27;42&#x27;][0]++,propDef.minItems)||(__cov_3.b[&#x27;42&#x27;][1]++,0));ii+=1){__cov_3.\
s[&#x27;180&#x27;]++;tmp.push(null);}__cov_3.s[&#x27;181&#x27;]++;break;case&#x27;boolean&#x27;:__cov_3.b[&#x27;41&#x27;][1]++;__cov_3.s[&#x27;182&#x27;]++;tmp=local.utility2.lis\
tGetElementRandom([false,true]);__cov_3.s[&#x27;183&#x27;]++;break;case&#x27;integer&#x27;:__cov_3.b[&#x27;41&#x27;][2]++;__cov_3.s[&#x27;184&#x27;]++;if(propDef.exclus\
iveMaximum){__cov_3.b[&#x27;43&#x27;][0]++;__cov_3.s[&#x27;185&#x27;]++;max-=1;}else{__cov_3.b[&#x27;43&#x27;][1]++;}__cov_3.s[&#x27;186&#x27;]++;if(propDef.exclusiveMi\
nimum){__cov_3.b[&#x27;44&#x27;][0]++;__cov_3.s[&#x27;187&#x27;]++;min+=1;}else{__cov_3.b[&#x27;44&#x27;][1]++;}__cov_3.s[&#x27;188&#x27;]++;tmp=Math.floor(min+Math.ran\
dom()*(max-min));__cov_3.s[&#x27;189&#x27;]++;break;case&#x27;object&#x27;:__cov_3.b[&#x27;41&#x27;][3]++;__cov_3.s[&#x27;190&#x27;]++;tmp={};__cov_3.s[&#x27;191&#x27;]++;for(ii=\
0;ii&lt;((__cov_3.b[&#x27;45&#x27;][0]++,propDef.minProperties)||(__cov_3.b[&#x27;45&#x27;][1]++,0));ii+=1){__cov_3.s[&#x27;192&#x27;]++;tmp[&#x27;property&#x27;+ii]=null;\
}__cov_3.s[&#x27;193&#x27;]++;break;case&#x27;number&#x27;:__cov_3.b[&#x27;41&#x27;][4]++;__cov_3.s[&#x27;194&#x27;]++;if(propDef.exclusiveMinimum){__cov_3.b[&#x27;46&#x27;][0]++\
;__cov_3.s[&#x27;195&#x27;]++;min=min&lt;0?(__cov_3.b[&#x27;47&#x27;][0]++,min*0.99999):(__cov_3.b[&#x27;47&#x27;][1]++,min*1.00001+0.00001);}else{__cov_3.b[&#x27;46&#x27;\
][1]++;}__cov_3.s[&#x27;196&#x27;]++;if(propDef.exclusiveMaximum){__cov_3.b[&#x27;48&#x27;][0]++;__cov_3.s[&#x27;197&#x27;]++;max=max&gt;0?(__cov_3.b[&#x27;49&#x27;][0]++,\
max*0.99999):(__cov_3.b[&#x27;49&#x27;][1]++,max*1.00001-0.00001);}else{__cov_3.b[&#x27;48&#x27;][1]++;}__cov_3.s[&#x27;198&#x27;]++;tmp=min+Math.random()*(ma\
x-min);__cov_3.s[&#x27;199&#x27;]++;break;case&#x27;string&#x27;:__cov_3.b[&#x27;41&#x27;][5]++;__cov_3.s[&#x27;200&#x27;]++;tmp=&#x27;random_&#x27;+Date.now().toString(36)+Math.\
random().toString(36).slice(2,10);__cov_3.s[&#x27;201&#x27;]++;switch(propDef.format){case&#x27;byte&#x27;:__cov_3.b[&#x27;50&#x27;][0]++;__cov_3.s[&#x27;202&#x27;]++;t\
mp=local.utility2.stringToBase64(tmp);__cov_3.s[&#x27;203&#x27;]++;break;case&#x27;date&#x27;:__cov_3.b[&#x27;50&#x27;][1]++;case&#x27;date-time&#x27;:__cov_3.b[&#x27;50&#x27;][2\
]++;__cov_3.s[&#x27;204&#x27;]++;tmp=new Date().toISOString();__cov_3.s[&#x27;205&#x27;]++;break;case&#x27;email&#x27;:__cov_3.b[&#x27;50&#x27;][3]++;__cov_3.s[&#x27;206&#x27;]++\
;tmp=tmp+&#x27;@random.com&#x27;;__cov_3.s[&#x27;207&#x27;]++;break;case&#x27;json&#x27;:__cov_3.b[&#x27;50&#x27;][4]++;__cov_3.s[&#x27;208&#x27;]++;tmp=JSON.stringify({random:tm\
p});__cov_3.s[&#x27;209&#x27;]++;break;}__cov_3.s[&#x27;210&#x27;]++;while(tmp.length&lt;((__cov_3.b[&#x27;51&#x27;][0]++,propDef.minLength)||(__cov_3.b[&#x27;51&#x27;][1]\
++,0))){__cov_3.s[&#x27;211&#x27;]++;tmp+=Math.random().toString(36).slice(2,6);}__cov_3.s[&#x27;212&#x27;]++;tmp=tmp.slice(0,(__cov_3.b[&#x27;52&#x27;][0]++,\
propDef.maxLength)||(__cov_3.b[&#x27;52&#x27;][1]++,Infinity));__cov_3.s[&#x27;213&#x27;]++;break;}__cov_3.s[&#x27;214&#x27;]++;if(propDef.multipleOf){__cov_3\
.b[&#x27;53&#x27;][0]++;__cov_3.s[&#x27;215&#x27;]++;tmp=propDef.multipleOf*Math.floor(tmp/propDef.multipleOf);__cov_3.s[&#x27;216&#x27;]++;if(tmp&lt;min){__cov_\
3.b[&#x27;54&#x27;][0]++;__cov_3.s[&#x27;217&#x27;]++;tmp+=propDef.multipleOf;}else{__cov_3.b[&#x27;54&#x27;][1]++;}}else{__cov_3.b[&#x27;53&#x27;][1]++;}__cov_3.s[&#x27;218\
&#x27;]++;local.utility2.tryCatchOnError(function(){__cov_3.f[&#x27;29&#x27;]++;__cov_3.s[&#x27;219&#x27;]++;local.swgg.validateByPropDef({data:tmp,key:p\
ropDef.name,schema:propDef});__cov_3.s[&#x27;220&#x27;]++;collectDoc[key]=tmp;},local.utility2.nop);});__cov_3.s[&#x27;221&#x27;]++;return local.uti\
lity2.jsonCopy(local.utility2.objectSetOverride(collectDoc,options.override(options)));}</pre></li>
        <li>example usage<pre class="docApiCodePre">...

local.swgg.collectDocListRandomCreate = function (options) {
/*
 * this function will return a collectDocList of options.length random collectDoc&#x27;s
 */
    local.utility2.objectSetDefault(options, { collectDocList: [] });
    for (options.ii = 0; options.ii &lt; options.length; options.ii += 1) {
        options.collectDocList.push(local.swgg.<span class="docApiCodeKeywordSpan">collectDocRandomCreate</span>(options));
    }
    return options.collectDocList;
};

local.swgg.collectDocRandomCreate = function (options) {
/*
 * this function will return a random collectDoc
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.collectionCreate" id="element.swgg.collectionCreate">
            function <span class="docApiSignatureSpan">swgg.</span>collectionCreate
            <span class="docApiSignatureSpan">(schemaName)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">collectionCreate = function (schemaName){__cov_3.f[&#x27;30&#x27;]++;__cov_3.s[&#x27;223&#x27;]++;var dir;__cov_3.s[&#x27;224&#x27;]++;dir=&#x27;tmp/nedb.collection.&#x27;+local.utility2.\
envDict.NODE_ENV;__cov_3.s[&#x27;225&#x27;]++;if(!local.swgg.collectionDict[schemaName]){__cov_3.b[&#x27;55&#x27;][0]++;__cov_3.s[&#x27;226&#x27;]++;if((__cov\
_3.b[&#x27;57&#x27;][0]++,local.modeJs===&#x27;node&#x27;)&amp;&amp;(__cov_3.b[&#x27;57&#x27;][1]++,!local.swgg.modeNedbInitialized)){__cov_3.b[&#x27;56&#x27;][0]++;__cov_3.s[&#x27;\
227&#x27;]++;local.utility2.tryCatchOnError(function(){__cov_3.f[&#x27;31&#x27;]++;__cov_3.s[&#x27;228&#x27;]++;local.fs.mkdirSync(&#x27;tmp&#x27;);},local.utility\
2.nop);__cov_3.s[&#x27;229&#x27;]++;local.utility2.tryCatchOnError(function(){__cov_3.f[&#x27;32&#x27;]++;__cov_3.s[&#x27;230&#x27;]++;local.fs.mkdirSync(dir)\
;},local.utility2.nop);}else{__cov_3.b[&#x27;56&#x27;][1]++;}__cov_3.s[&#x27;231&#x27;]++;local.swgg.modeNedbInitialized=true;__cov_3.s[&#x27;232&#x27;]++;loc\
al.swgg.collectionDict[schemaName]=new local.swgg.Nedb({autoload:true,filename:dir+&#x27;/&#x27;+schemaName,timestampData:true});}else{__c\
ov_3.b[&#x27;55&#x27;][1]++;}__cov_3.s[&#x27;233&#x27;]++;return local.swgg.collectionDict[schemaName];}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
onParallel = local.utility2.onParallel(onNext);
onParallel.counter += 1;
local.utility2.objectSetDefault(options, {
    collectDocList: [],
    ensureIndexList: [],
    removeIndexList: []
});
collection = local.swgg.<span class="docApiCodeKeywordSpan">collectionCreate</span>(options.name);
// drop collection
if (options.drop) {
    onParallel.counter += 1;
    local.swgg.Nedb.storage.unlink(String(
        collection.filename
    ), function () {
        collection.loadDatabase(function () {
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.collectionInit" id="element.swgg.collectionInit">
            function <span class="docApiSignatureSpan">swgg.</span>collectionInit
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">collectionInit = function (options,onError){__cov_3.f[&#x27;33&#x27;]++;__cov_3.s[&#x27;235&#x27;]++;var collection,modeNext,onNext,onParallel;__cov_3.s[&#x27;236&#x27;]++;mod\
eNext=0;__cov_3.s[&#x27;237&#x27;]++;onNext=function(error){__cov_3.f[&#x27;34&#x27;]++;__cov_3.s[&#x27;238&#x27;]++;modeNext=error?(__cov_3.b[&#x27;58&#x27;][0]++,Infi\
nity):(__cov_3.b[&#x27;58&#x27;][1]++,modeNext+1);__cov_3.s[&#x27;239&#x27;]++;switch(modeNext){case 1:__cov_3.b[&#x27;59&#x27;][0]++;__cov_3.s[&#x27;240&#x27;]++;onPar\
allel=local.utility2.onParallel(onNext);__cov_3.s[&#x27;241&#x27;]++;onParallel.counter+=1;__cov_3.s[&#x27;242&#x27;]++;local.utility2.objectSetDefa\
ult(options,{collectDocList:[],ensureIndexList:[],removeIndexList:[]});__cov_3.s[&#x27;243&#x27;]++;collection=local.swgg.collectionCreate\
(options.name);__cov_3.s[&#x27;244&#x27;]++;if(options.drop){__cov_3.b[&#x27;60&#x27;][0]++;__cov_3.s[&#x27;245&#x27;]++;onParallel.counter+=1;__cov_3.s[&#x27;246&#x27;\
]++;local.swgg.Nedb.storage.unlink(String(collection.filename),function(){__cov_3.f[&#x27;35&#x27;]++;__cov_3.s[&#x27;247&#x27;]++;collection.loadDa\
tabase(function(){__cov_3.f[&#x27;36&#x27;]++;__cov_3.s[&#x27;248&#x27;]++;onParallel.counter+=1;__cov_3.s[&#x27;249&#x27;]++;collection.remove({},{multi:true\
},onParallel);__cov_3.s[&#x27;250&#x27;]++;Object.keys(collection.indexes).concat(&#x27;undefined&#x27;).forEach(function(key){__cov_3.f[&#x27;37&#x27;]++;__c\
ov_3.s[&#x27;251&#x27;]++;if(key!==&#x27;_id&#x27;){__cov_3.b[&#x27;61&#x27;][0]++;__cov_3.s[&#x27;252&#x27;]++;onParallel.counter+=1;__cov_3.s[&#x27;253&#x27;]++;collection.remo\
veIndex(key,onParallel);}else{__cov_3.b[&#x27;61&#x27;][1]++;}});__cov_3.s[&#x27;254&#x27;]++;onParallel();});});}else{__cov_3.b[&#x27;60&#x27;][1]++;}__cov_3\
.s[&#x27;255&#x27;]++;onParallel();__cov_3.s[&#x27;256&#x27;]++;break;case 2:__cov_3.b[&#x27;59&#x27;][1]++;__cov_3.s[&#x27;257&#x27;]++;onParallel.counter+=1;__cov_3.s\
[&#x27;258&#x27;]++;options.removeIndexList.forEach(function(index){__cov_3.f[&#x27;38&#x27;]++;__cov_3.s[&#x27;259&#x27;]++;onParallel.counter+=1;__cov_3.s[&#x27;\
260&#x27;]++;collection.removeIndex(index,onParallel);});__cov_3.s[&#x27;261&#x27;]++;onParallel();__cov_3.s[&#x27;262&#x27;]++;break;case 3:__cov_3.b[&#x27;5\
9&#x27;][2]++;__cov_3.s[&#x27;263&#x27;]++;onParallel.counter+=1;__cov_3.s[&#x27;264&#x27;]++;options.ensureIndexList.forEach(function(index){__cov_3.f[&#x27;\
39&#x27;]++;__cov_3.s[&#x27;265&#x27;]++;onParallel.counter+=1;__cov_3.s[&#x27;266&#x27;]++;collection.ensureIndex(index,onParallel);});__cov_3.s[&#x27;267&#x27;]+\
+;onParallel();__cov_3.s[&#x27;268&#x27;]++;break;case 4:__cov_3.b[&#x27;59&#x27;][3]++;__cov_3.s[&#x27;269&#x27;]++;onParallel.counter+=1;__cov_3.s[&#x27;270&#x27;]++;\
options.collectDocList.forEach(function(collectDoc){__cov_3.f[&#x27;40&#x27;]++;__cov_3.s[&#x27;271&#x27;]++;onParallel.counter+=1;__cov_3.s[&#x27;272&#x27;]+\
+;collection.update({id:collectDoc.id},collectDoc,{upsert:true},onParallel);});__cov_3.s[&#x27;273&#x27;]++;onParallel();__cov_3.s[&#x27;274&#x27;]+\
+;break;default:__cov_3.b[&#x27;59&#x27;][4]++;__cov_3.s[&#x27;275&#x27;]++;onError(error);}};__cov_3.s[&#x27;276&#x27;]++;onNext(options.error);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    modeNext = -1;
    onNext = function (error) {
        modeNext = error
            ? Infinity
            : modeNext + 1;
        // recursively run each sub-middleware in middlewareList
        if (modeNext &lt; optionsList.length) {
            local.swgg.<span class="docApiCodeKeywordSpan">collectionInit</span>(optionsList[modeNext], onNext);
            return;
        }
        onError(error);
    };
    onNext();
};
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.collectionListInit" id="element.swgg.collectionListInit">
            function <span class="docApiSignatureSpan">swgg.</span>collectionListInit
            <span class="docApiSignatureSpan">(optionsList,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">collectionListInit = function (optionsList,onError){__cov_3.f[&#x27;41&#x27;]++;__cov_3.s[&#x27;278&#x27;]++;var modeNext,onNext;__cov_3.s[&#x27;279&#x27;]++;modeNext=-1;__cov_3.s\
[&#x27;280&#x27;]++;onNext=function(error){__cov_3.f[&#x27;42&#x27;]++;__cov_3.s[&#x27;281&#x27;]++;modeNext=error?(__cov_3.b[&#x27;62&#x27;][0]++,Infinity):(__cov_3.b[\
&#x27;62&#x27;][1]++,modeNext+1);__cov_3.s[&#x27;282&#x27;]++;if(modeNext&lt;optionsList.length){__cov_3.b[&#x27;63&#x27;][0]++;__cov_3.s[&#x27;283&#x27;]++;local.swgg.col\
lectionInit(optionsList[modeNext],onNext);__cov_3.s[&#x27;284&#x27;]++;return;}else{__cov_3.b[&#x27;63&#x27;][1]++;}__cov_3.s[&#x27;285&#x27;]++;onError(error\
);};__cov_3.s[&#x27;286&#x27;]++;onNext();}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
            queryLimit: 20,
            schema: { $ref: &#x27;#/definitions/User&#x27; }
        }
    }
});
// init collectionList-fixtures
local.utility2.onReadyBefore.counter += 1;
local.swgg.<span class="docApiCodeKeywordSpan">collectionListInit</span>([{
    collectDocList: [{
        id: &#x27;00_test_swaggerUiLogoSmall&#x27;,
        fileBlob: local.swgg.templateSwaggerUiLogoSmallBase64,
        fileContentType: &#x27;image/png&#x27;,
        fileDescription: &#x27;swagger-ui logo&#x27;,
        fileFilename: &#x27;swaggerUiLogoSmall.png&#x27;
    }],
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.idDomElementCreate" id="element.swgg.idDomElementCreate">
            function <span class="docApiSignatureSpan">swgg.</span>idDomElementCreate
            <span class="docApiSignatureSpan">(seed)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">idDomElementCreate = function (seed){__cov_3.f[&#x27;43&#x27;]++;__cov_3.s[&#x27;288&#x27;]++;var id,ii;__cov_3.s[&#x27;289&#x27;]++;id=encodeURIComponent(seed).replace(/\W/g,&#x27;_&#x27;)\
;__cov_3.s[&#x27;290&#x27;]++;for(ii=2;local.swgg.idDomElementDict[id];ii+=1){__cov_3.s[&#x27;291&#x27;]++;id=encodeURIComponent(seed+&#x27;_&#x27;+ii).replac\
e(/\W/g,&#x27;_&#x27;);}__cov_3.s[&#x27;292&#x27;]++;local.swgg.idDomElementDict[id]=true;__cov_3.s[&#x27;293&#x27;]++;return id;}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
paramDef.isSelect = true;
paramDef.isSelectMultiple = paramDef.type === &#x27;array&#x27;;
paramDef.selectOptionList = (paramDef.type === &#x27;boolean&#x27;
    ? [true, false]
    : paramDef.enum).map(function (element) {
    paramDef.hasDefault |= paramDef.enumDefault.indexOf(element) &gt;= 0;
    return {
        id: local.swgg.<span class="docApiCodeKeywordSpan">idDomElementCreate</span>(&#x27;swgg_id_&#x27; + paramDef.name),
        selected: paramDef.enumDefault.indexOf(element) &gt;= 0
            ? &#x27;selected&#x27;
            : &#x27;&#x27;,
        type: paramDef.items
            ? paramDef.items.type
            : paramDef.type,
        valueDecoded: element
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.idIntTimeCreate" id="element.swgg.idIntTimeCreate">
            function <span class="docApiSignatureSpan">swgg.</span>idIntTimeCreate
            <span class="docApiSignatureSpan">()</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">idIntTimeCreate = function (){__cov_3.f[&#x27;44&#x27;]++;__cov_3.s[&#x27;295&#x27;]++;var id;__cov_3.s[&#x27;296&#x27;]++;id=Date.now()*128;__cov_3.s[&#x27;297&#x27;]++;local.swgg.idInt\
TimeMin=id&lt;=local.swgg.idIntTimeMin?(__cov_3.b[&#x27;64&#x27;][0]++,local.swgg.idIntTimeMin+1):(__cov_3.b[&#x27;64&#x27;][1]++,id);__cov_3.s[&#x27;298&#x27;]+\
+;return local.swgg.idIntTimeMin;}</pre></li>
        <li>example usage<pre class="docApiCodePre">...

local.testCase_idIntTimeCreate_default = function (options, onError) {
/*
 * this function will test idIntTimeCreate&#x27;s default handling-behavior
 */
    options = {};
    // init data1
    options.data1 = local.swgg.<span class="docApiCodeKeywordSpan">idIntTimeCreate</span>();
    for (options.ii = 0; options.ii &lt; 100; options.ii += 1) {
        options.data2 = local.swgg.idIntTimeCreate();
        // validate data2 &gt; data1
        local.utility2.assert(options.data2 &gt; options.data1, options);
        options.data1 = options.data2;
    }
    onError();
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.jwtDecodedEncryptAndEncode" id="element.swgg.jwtDecodedEncryptAndEncode">
            function <span class="docApiSignatureSpan">swgg.</span>jwtDecodedEncryptAndEncode
            <span class="docApiSignatureSpan">(user)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">jwtDecodedEncryptAndEncode = function (user){__cov_3.f[&#x27;48&#x27;]++;__cov_3.s[&#x27;306&#x27;]++;local.utility2.objectSetDefault(user,{jwtDecoded:{},jwtDecrypted:{exp:Math.\
floor(Date.now()/1000)+3600,jti:local.utility2.uuidTimeCreate()}},2);__cov_3.s[&#x27;307&#x27;]++;user.jwtDecoded.encrypted=local.utility2\
.cryptojsCipherAes256Encrypt(JSON.stringify(user.jwtDecrypted),(__cov_3.b[&#x27;67&#x27;][0]++,local.utility2.envDict.JWT_SECRET)||(__cov_\
3.b[&#x27;67&#x27;][1]++,&#x27;&#x27;));__cov_3.s[&#x27;308&#x27;]++;user.jwtEncoded=local.utility2.jwtHs256Encode(user.jwtDecoded,(__cov_3.b[&#x27;68&#x27;][0]++,local\
.utility2.envDict.JWT_SECRET)||(__cov_3.b[&#x27;68&#x27;][1]++,&#x27;&#x27;));}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    local.utility2.assert(
        local.swgg.userJwtEncoded,
        local.swgg.userJwtEncoded
    );
    // test userLogout&#x27;s 200 handling-behavior
    // test jwtEncoded&#x27;s update handling-behavior
    options = { jwtDecrypted: { sub: &#x27;admin&#x27; } };
    local.swgg.<span class="docApiCodeKeywordSpan">jwtDecodedEncryptAndEncode</span>(options);
    local.swgg.userLogout(options, onNext);
    break;
case 6:
    // validate no error occurred
    local.utility2.assert(!error, error);
    // validate statusCode
    local.utility2.assertJsonEqual(data.statusCode, 200);
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.jwtEncodedDecodeAndDecrypt" id="element.swgg.jwtEncodedDecodeAndDecrypt">
            function <span class="docApiSignatureSpan">swgg.</span>jwtEncodedDecodeAndDecrypt
            <span class="docApiSignatureSpan">(user)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">jwtEncodedDecodeAndDecrypt = function (user){__cov_3.f[&#x27;45&#x27;]++;__cov_3.s[&#x27;300&#x27;]++;local.utility2.tryCatchOnError(function(){__cov_3.f[&#x27;46&#x27;]++;__cov_3.s[&#x27;301&#x27;\
]++;user.jwtDecoded=local.utility2.jwtHs256Decode(user.jwtEncoded,(__cov_3.b[&#x27;65&#x27;][0]++,local.utility2.envDict.JWT_SECRET)||(__c\
ov_3.b[&#x27;65&#x27;][1]++,&#x27;&#x27;));__cov_3.s[&#x27;302&#x27;]++;user.jwtDecrypted=JSON.parse(local.utility2.cryptojsCipherAes256Decrypt(user.jwtDecode\
d.encrypted,(__cov_3.b[&#x27;66&#x27;][0]++,local.utility2.envDict.JWT_SECRET)||(__cov_3.b[&#x27;66&#x27;][1]++,&#x27;&#x27;)));__cov_3.s[&#x27;303&#x27;]++;local.utili\
ty2.assert(Date.now()*0.001&lt;=user.jwtDecrypted.exp);},function(){__cov_3.f[&#x27;47&#x27;]++;__cov_3.s[&#x27;304&#x27;]++;user.jwtDecoded=user.jwtDe\
crypted=user.jwtEncoded=user.jwtEncrypted=null;});}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
                case 1:
crud = request.swgg.crud;
user = request.swgg.user = {};
user.jwtEncoded = request.headers.authorization &amp;&amp;
    request.headers.authorization.replace(&#x27;Bearer &#x27;, &#x27;&#x27;);
local.swgg.collectionUser = local.swgg.collectionCreate(&#x27;User&#x27;);
// decode and decrypt jwtEncoded
local.swgg.<span class="docApiCodeKeywordSpan">jwtEncodedDecodeAndDecrypt</span>(user);
switch (crud.operationId.split(&#x27;.&#x27;)[0]) {
// coverage-hack - test error handling-behavior
case &#x27;crudErrorLogin&#x27;:
    onNext(local.utility2.errorDefault);
    return;
case &#x27;userLoginByPassword&#x27;:
    user.password = request.urlParsed.query.password;
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.jwtEncodedSetHeader" id="element.swgg.jwtEncodedSetHeader">
            function <span class="docApiSignatureSpan">swgg.</span>jwtEncodedSetHeader
            <span class="docApiSignatureSpan">(request,response)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">jwtEncodedSetHeader = function (request,response){__cov_3.f[&#x27;49&#x27;]++;__cov_3.s[&#x27;310&#x27;]++;local.utility2.serverRespondHeadSet(request,response,null,{&#x27;swg\
g-jwt-encoded&#x27;:request.swgg.user.jwtEncoded});}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    user.isAuthenticated = true;
    // https://tools.ietf.org/html/rfc7519
    // create JSON Web Token (JWT)
    user.jwtDecrypted = {};
    user.jwtDecrypted.sub = user.data.username;
    local.swgg.jwtDecodedEncryptAndEncode(user);
    // update jwtEncoded in client
    local.swgg.<span class="docApiCodeKeywordSpan">jwtEncodedSetHeader</span>(request, response);
    // update jwtEncoded in collection
    local.swgg.collectionUser.update({
        username: user.jwtDecrypted.sub
    }, { $set: { jwtEncoded: user.jwtEncoded } }, onNext);
    return;
default:
    user.data = data || {};
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.keyUniqueInit" id="element.swgg.keyUniqueInit">
            function <span class="docApiSignatureSpan">swgg.</span>keyUniqueInit
            <span class="docApiSignatureSpan">(options)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">keyUniqueInit = function (options){__cov_3.f[&#x27;50&#x27;]++;__cov_3.s[&#x27;312&#x27;]++;var keyAlias,keyUnique;__cov_3.s[&#x27;313&#x27;]++;options.keyAlias=options.opera\
tionId.split(&#x27;.&#x27;);__cov_3.s[&#x27;314&#x27;]++;keyUnique=options.keyUnique=(__cov_3.b[&#x27;69&#x27;][0]++,options.keyAlias[1])||(__cov_3.b[&#x27;69&#x27;][1]\
++,&#x27;id&#x27;);__cov_3.s[&#x27;315&#x27;]++;keyAlias=options.keyAlias=(__cov_3.b[&#x27;70&#x27;][0]++,options.keyAlias[2])||(__cov_3.b[&#x27;70&#x27;][1]++,options.\
keyUnique);__cov_3.s[&#x27;316&#x27;]++;if(options.modeQueryByKeyUniqueInvert){__cov_3.b[&#x27;71&#x27;][0]++;__cov_3.s[&#x27;317&#x27;]++;keyAlias=options.ke\
yUnique;__cov_3.s[&#x27;318&#x27;]++;keyUnique=options.keyAlias;}else{__cov_3.b[&#x27;71&#x27;][1]++;}__cov_3.s[&#x27;319&#x27;]++;options.keyValue=(__cov_3.b\
[&#x27;72&#x27;][0]++,options.data)&amp;&amp;(__cov_3.b[&#x27;72&#x27;][1]++,options.data[keyAlias])||(__cov_3.b[&#x27;72&#x27;][2]++,options.keyValue);__cov_3.s[&#x27;320\
&#x27;]++;options.queryByKeyUnique={};__cov_3.s[&#x27;321&#x27;]++;options.queryByKeyUnique[keyUnique]=options.keyValue;__cov_3.s[&#x27;322&#x27;]++;retu\
rn options;}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
                options[match1] = options[match1] || local.swgg.apiDict[key];
            });
        });
        local.utility2.objectSetDefault(options, {
            operationId: &#x27;undefined.id.id&#x27;
        });
    }
    local.swgg.<span class="docApiCodeKeywordSpan">keyUniqueInit</span>(options);
    return options;
};

// init tests
local.testCase_ajax_error = function (options, onError) {
/*
 * this function will test ajax&#x27;s error handling-behavior
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.middlewareBodyParse" id="element.swgg.middlewareBodyParse">
            function <span class="docApiSignatureSpan">swgg.</span>middlewareBodyParse
            <span class="docApiSignatureSpan">(request,response,nextMiddleware)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">middlewareBodyParse = function (request,response,nextMiddleware){__cov_3.f[&#x27;51&#x27;]++;__cov_3.s[&#x27;324&#x27;]++;var ii,jj,options;__cov_3.s[&#x27;325&#x27;]++;local.utili\
ty2.nop(response);__cov_3.s[&#x27;326&#x27;]++;if(!local.utility2.isNullOrUndefined(request.swgg.bodyParsed)){__cov_3.b[&#x27;73&#x27;][0]++;__cov_3\
.s[&#x27;327&#x27;]++;nextMiddleware();__cov_3.s[&#x27;328&#x27;]++;return;}else{__cov_3.b[&#x27;73&#x27;][1]++;}__cov_3.s[&#x27;329&#x27;]++;switch(String(request.head\
ers[&#x27;content-type&#x27;]).split(&#x27;;&#x27;)[0]){case&#x27;application/x-www-form-urlencoded&#x27;:__cov_3.b[&#x27;74&#x27;][0]++;__cov_3.s[&#x27;330&#x27;]++;request.swgg\
.bodyParsed=local.utility2.bufferToString(request.bodyRaw);__cov_3.s[&#x27;331&#x27;]++;request.swgg.bodyParsed=local.utility2.urlParse(&#x27;?\
&#x27;+request.swgg.bodyParsed,true).query;__cov_3.s[&#x27;332&#x27;]++;break;case&#x27;multipart/form-data&#x27;:__cov_3.b[&#x27;74&#x27;][1]++;__cov_3.s[&#x27;333&#x27;]++\
;request.swgg.isMultipartFormData=true;__cov_3.s[&#x27;334&#x27;]++;request.swgg.bodyParsed={};__cov_3.s[&#x27;335&#x27;]++;request.swgg.bodyMeta={}\
;__cov_3.s[&#x27;336&#x27;]++;options={};__cov_3.s[&#x27;337&#x27;]++;options.crlf=local.utility2.bufferCreate([13,10]);__cov_3.s[&#x27;338&#x27;]++;ii=0;__co\
v_3.s[&#x27;339&#x27;]++;jj=local.utility2.bufferIndexOfSubBuffer(request.bodyRaw,options.crlf,ii);__cov_3.s[&#x27;340&#x27;]++;if(jj&lt;=0){__cov_3.b[\
&#x27;75&#x27;][0]++;__cov_3.s[&#x27;341&#x27;]++;break;}else{__cov_3.b[&#x27;75&#x27;][1]++;}__cov_3.s[&#x27;342&#x27;]++;options.boundary=local.utility2.bufferConcat(\
[options.crlf,request.bodyRaw.slice(ii,jj)]);__cov_3.s[&#x27;343&#x27;]++;ii=jj+2;__cov_3.s[&#x27;344&#x27;]++;while(true){__cov_3.s[&#x27;345&#x27;]++;jj=loc\
al.utility2.bufferIndexOfSubBuffer(request.bodyRaw,options.boundary,ii);__cov_3.s[&#x27;346&#x27;]++;if(jj&lt;0){__cov_3.b[&#x27;76&#x27;][0]++;__cov_3\
.s[&#x27;347&#x27;]++;break;}else{__cov_3.b[&#x27;76&#x27;][1]++;}__cov_3.s[&#x27;348&#x27;]++;options.header=local.utility2.bufferToString(request.bodyRaw.sl\
ice(ii,ii+1024)).split(&#x27;\r\n&#x27;).slice(0,2).join(&#x27;\r\n&#x27;);__cov_3.s[&#x27;349&#x27;]++;options.contentType=/^content-type:(.*)/im.exec(option\
s.header);__cov_3.s[&#x27;350&#x27;]++;options.contentType=(__cov_3.b[&#x27;77&#x27;][0]++,options.contentType)&amp;&amp;(__cov_3.b[&#x27;77&#x27;][1]++,options.conte\
ntType[1].trim());__cov_3.s[&#x27;351&#x27;]++;options.filename=/^content-disposition:.*?\bfilename=&quot;([^&quot;]+)/im.exec(options.header);__cov\
_3.s[&#x27;352&#x27;]++;options.filename=(__cov_3.b[&#x27;78&#x27;][0]++,options.filename)&amp;&amp;(__cov_3.b[&#x27;78&#x27;][1]++,options.filename[1]);__cov_3.s[&#x27;35\
3&#x27;]++;options.name=/^content-disposition:.*?\bname=&quot;([^&quot;]+)/im.exec(options.header);__cov_3.s[&#x27;354&#x27;]++;options.name=(__cov_3.b[&#x27;\
79&#x27;][0]++,options.name)&amp;&amp;(__cov_3.b[&#x27;79&#x27;][1]++,options.name[1]);__cov_3.s[&#x27;355&#x27;]++;ii=local.utility2.bufferIndexOfSubBuffer(requ\
est.bodyRaw,[13,10,13,10],ii+2)+4;__cov_3.s[&#x27;356&#x27;]++;options.data=request.bodyRaw.slice(ii,jj);__cov_3.s[&#x27;357&#x27;]++;request.swgg.b\
odyParsed[options.name]=options.data;__cov_3.s[&#x27;358&#x27;]++;request.swgg.bodyMeta[options.name]={contentType:options.contentType,fil\
ename:options.filename,name:options.name};__cov_3.s[&#x27;359&#x27;]++;ii=jj+options.boundary.length+2;}__cov_3.s[&#x27;360&#x27;]++;break;default:_\
_cov_3.b[&#x27;74&#x27;][2]++;__cov_3.s[&#x27;361&#x27;]++;request.swgg.bodyParsed=local.utility2.bufferToString((__cov_3.b[&#x27;80&#x27;][0]++,request.bodyR\
aw)||(__cov_3.b[&#x27;80&#x27;][1]++,&#x27;&#x27;));__cov_3.s[&#x27;362&#x27;]++;local.utility2.tryCatchOnError(function(){__cov_3.f[&#x27;52&#x27;]++;__cov_3.s[&#x27;363&#x27;]+\
+;request.swgg.bodyParsed=JSON.parse(request.swgg.bodyParsed);},local.utility2.nop);}__cov_3.s[&#x27;364&#x27;]++;nextMiddleware();}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.middlewareCrudBuiltin" id="element.swgg.middlewareCrudBuiltin">
            function <span class="docApiSignatureSpan">swgg.</span>middlewareCrudBuiltin
            <span class="docApiSignatureSpan">(request,response,nextMiddleware)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">middlewareCrudBuiltin = function (request,response,nextMiddleware){__cov_3.f[&#x27;54&#x27;]++;__cov_3.s[&#x27;372&#x27;]++;var crud,modeNext,onNext,onParallel,tmp,user;__c\
ov_3.s[&#x27;373&#x27;]++;modeNext=0;__cov_3.s[&#x27;374&#x27;]++;onNext=function(error,data,meta){__cov_3.f[&#x27;55&#x27;]++;__cov_3.s[&#x27;375&#x27;]++;modeNext=err\
or?(__cov_3.b[&#x27;82&#x27;][0]++,Infinity):(__cov_3.b[&#x27;82&#x27;][1]++,modeNext+1);__cov_3.s[&#x27;376&#x27;]++;switch(modeNext){case 1:__cov_3.b[&#x27;83&#x27;][\
0]++;__cov_3.s[&#x27;377&#x27;]++;crud=request.swgg.crud;__cov_3.s[&#x27;378&#x27;]++;user=request.swgg.user;__cov_3.s[&#x27;379&#x27;]++;switch(crud.operatio\
nId.split(&#x27;.&#x27;)[0]){case&#x27;crudCountManyByQuery&#x27;:__cov_3.b[&#x27;84&#x27;][0]++;__cov_3.s[&#x27;380&#x27;]++;crud.collection.count(crud.queryWhere,onNe\
xt);__cov_3.s[&#x27;381&#x27;]++;break;case&#x27;crudCreateOrReplaceMany&#x27;:__cov_3.b[&#x27;84&#x27;][1]++;__cov_3.s[&#x27;382&#x27;]++;crud.collection.remove({id:{$\
in:crud.body.map(function(collectDoc){__cov_3.f[&#x27;56&#x27;]++;__cov_3.s[&#x27;383&#x27;]++;return collectDoc.id;})}},{multi:true},onNext);__cov_\
3.s[&#x27;384&#x27;]++;break;case&#x27;crudCreateOrReplaceOneByKeyUnique&#x27;:__cov_3.b[&#x27;84&#x27;][2]++;case&#x27;crudUpdateOneByKeyUnique&#x27;:__cov_3.b[&#x27;84&#x27;][3\
]++;__cov_3.s[&#x27;385&#x27;]++;delete crud.body.id;__cov_3.s[&#x27;386&#x27;]++;delete crud.body[crud.keyUnique];__cov_3.s[&#x27;387&#x27;]++;crud.body[crud\
.keyAlias]=crud.data[crud.keyUnique];__cov_3.s[&#x27;388&#x27;]++;if(crud.operationId.indexOf(&#x27;Replace&#x27;)&gt;=0){__cov_3.b[&#x27;85&#x27;][0]++;__cov_3.\
s[&#x27;389&#x27;]++;crud.collection.update(crud.queryByKeyUnique,crud.body,{returnUpdatedDocs:true,upsert:true},onNext);}else{__cov_3.b[&#x27;\
85&#x27;][1]++;__cov_3.s[&#x27;390&#x27;]++;crud.collection.update(crud.queryByKeyUnique,{$set:crud.body},{returnUpdatedDocs:true},onNext);}__c\
ov_3.s[&#x27;391&#x27;]++;break;case&#x27;crudDeleteManyByQuery&#x27;:__cov_3.b[&#x27;84&#x27;][4]++;__cov_3.s[&#x27;392&#x27;]++;crud.collection.remove(crud.queryWhere\
,{multi:true},onNext);__cov_3.s[&#x27;393&#x27;]++;break;case&#x27;crudDeleteOneByKeyUnique&#x27;:__cov_3.b[&#x27;84&#x27;][5]++;__cov_3.s[&#x27;394&#x27;]++;crud.colle\
ction.remove(crud.queryByKeyUnique,onNext);__cov_3.s[&#x27;395&#x27;]++;break;case&#x27;crudErrorDelete&#x27;:__cov_3.b[&#x27;84&#x27;][6]++;case&#x27;crudErrorGet\
&#x27;:__cov_3.b[&#x27;84&#x27;][7]++;case&#x27;crudErrorHead&#x27;:__cov_3.b[&#x27;84&#x27;][8]++;case&#x27;crudErrorOptions&#x27;:__cov_3.b[&#x27;84&#x27;][9]++;case&#x27;crudErrorPatch&#x27;\
:__cov_3.b[&#x27;84&#x27;][10]++;case&#x27;crudErrorPost&#x27;:__cov_3.b[&#x27;84&#x27;][11]++;case&#x27;crudErrorPut&#x27;:__cov_3.b[&#x27;84&#x27;][12]++;__cov_3.s[&#x27;396&#x27;]++;onN\
ext(local.utility2.errorDefault);__cov_3.s[&#x27;397&#x27;]++;break;case&#x27;crudExistsOneByKeyUnique&#x27;:__cov_3.b[&#x27;84&#x27;][13]++;__cov_3.s[&#x27;398&#x27;]+\
+;crud.collection.findOne(crud.queryByKeyUnique,{$:1},onNext);__cov_3.s[&#x27;399&#x27;]++;break;case&#x27;crudGetManyByQuery&#x27;:__cov_3.b[&#x27;84&#x27;][\
14]++;__cov_3.s[&#x27;400&#x27;]++;onParallel=local.utility2.onParallel(onNext);__cov_3.s[&#x27;401&#x27;]++;onParallel.counter+=1;__cov_3.s[&#x27;402&#x27;]+\
+;crud.collection.find(crud.queryWhere,crud.queryFields).sort(crud.querySort).skip(crud.querySkip).limit(crud.queryLimit).exec(f\
unction(error,data){__cov_3.f[&#x27;57&#x27;]++;__cov_3.s[&#x27;403&#x27;]++;crud.queryData=data;__cov_3.s[&#x27;404&#x27;]++;onParallel(error);});__cov_3.s[&#x27;\
405&#x27;]++;onParallel.counter+=1;__cov_3.s[&#x27;406&#x27;]++;crud.collection.count({},function(error,data){__cov_3.f[&#x27;58&#x27;]++;__cov_3.s[&#x27;407&#x27;\
]++;crud.paginationCountTotal=data;__cov_3.s[&#x27;408&#x27;]++;onParallel(error);});__cov_3.s[&#x27;409&#x27;]++;break;case&#x27;crudGetOneByKeyUnique&#x27;:\
__cov_3.b[&#x27;84&#x27;][15]++;__cov_3.s[&#x27;410&#x27;]++;crud.collection.findOne(crud.queryByKeyUnique,onNext);__cov_3.s[&#x27;411&#x27;]++;break;case&#x27;cru\
dGetOneByQuery&#x27;:__cov_3.b[&#x27;84&#x27;][16]++;__cov_3.s[&#x27;412&#x27;]++;crud.collection.findOne(crud.queryWhere,crud.queryFields,onNext);__cov_\
3.s[&#x27;413&#x27;]++;break;case&#x27;crudNullDelete&#x27;:__cov_3.b[&#x27;84&#x27;][17]++;case&#x27;crudNullGet&#x27;:__cov_3.b[&#x27;84&#x27;][18]++;case&#x27;crudNullHead&#x27;:__cov_3\
.b[&#x27;84&#x27;][19]++;case&#x27;crudNullOptions&#x27;:__cov_3.b[&#x27;84&#x27;][20]++;case&#x27;crudNullPatch&#x27;:__cov_3.b[&#x27;84&#x27;][21]++;case&#x27;crudNullPost&#x27;:__cov_3.\
b[&#x27;84&#x27;][22]++;case&#x27;crudNullPut&#x27;:__cov_3.b[&#x27;84&#x27;][23]++;__cov_3.s[&#x27;414&#x27;]++;onNext();__cov_3.s[&#x27;415&#x27;]++;break;case&#x27;fileGetOneByKeyU\
nique&#x27;:__cov_3.b[&#x27;84&#x27;][24]++;__cov_3.s[&#x27;416&#x27;]++;local.swgg.collectionFile=local.swgg.collectionCreate(&#x27;File&#x27;);__cov_3.s[&#x27;417&#x27;]++\
;local.swgg.collectionFile.findOne(crud.queryByKeyUnique,onNext);__cov_3.s[&#x27;418&#x27;]++;break;case&#x27;fileUploadManyByForm&#x27;:__cov_3.b[&#x27;\
84&#x27;][25]++;__cov_3.s[&#x27;419&#x27;]++;local.swgg.collectionFile=local.swgg ...</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.middlewareCrudEnd" id="element.swgg.middlewareCrudEnd">
            function <span class="docApiSignatureSpan">swgg.</span>middlewareCrudEnd
            <span class="docApiSignatureSpan">(request,response,nextMiddleware)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">middlewareCrudEnd = function (request,response,nextMiddleware){__cov_3.f[&#x27;53&#x27;]++;__cov_3.s[&#x27;366&#x27;]++;local.utility2.nop(response);__cov_3.s[&#x27;367&#x27;]++;\
if(request.swgg.crud.endArgList){__cov_3.b[&#x27;81&#x27;][0]++;__cov_3.s[&#x27;368&#x27;]++;local.swgg.serverRespondJsonapi.apply(null,request.swgg\
.crud.endArgList);__cov_3.s[&#x27;369&#x27;]++;return;}else{__cov_3.b[&#x27;81&#x27;][1]++;}__cov_3.s[&#x27;370&#x27;]++;nextMiddleware();}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.middlewareError" id="element.swgg.middlewareError">
            function <span class="docApiSignatureSpan">swgg.</span>middlewareError
            <span class="docApiSignatureSpan">(error,request,response)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">middlewareError = function (error,request,response){__cov_3.f[&#x27;63&#x27;]++;__cov_3.s[&#x27;479&#x27;]++;if(!error){__cov_3.b[&#x27;92&#x27;][0]++;__cov_3.s[&#x27;480&#x27;]++;error=\
new Error(&#x27;404 Not Found&#x27;);__cov_3.s[&#x27;481&#x27;]++;error.statusCode=404;}else{__cov_3.b[&#x27;92&#x27;][1]++;}__cov_3.s[&#x27;482&#x27;]++;local.swgg.ser\
verRespondJsonapi(request,response,error);}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.middlewareJsonpStateGet" id="element.swgg.middlewareJsonpStateGet">
            function <span class="docApiSignatureSpan">swgg.</span>middlewareJsonpStateGet
            <span class="docApiSignatureSpan">(request,response,nextMiddleware)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">middlewareJsonpStateGet = function (request,response,nextMiddleware){__cov_3.f[&#x27;64&#x27;]++;__cov_3.s[&#x27;484&#x27;]++;var isRequest,state;__cov_3.s[&#x27;485&#x27;]++;isRequest\
=(__cov_3.b[&#x27;93&#x27;][0]++,request.urlParsed)&amp;&amp;(__cov_3.b[&#x27;93&#x27;][1]++,request.urlParsed.pathname===&#x27;/jsonp.swgg.stateGet&#x27;);__cov_3.s[\
&#x27;486&#x27;]++;state={utility2:{assetsDict:{},envDict:{}}};__cov_3.s[&#x27;487&#x27;]++;if((__cov_3.b[&#x27;95&#x27;][0]++,request.configGet)||(__cov_3.b[\
&#x27;95&#x27;][1]++,isRequest)){__cov_3.b[&#x27;94&#x27;][0]++;__cov_3.s[&#x27;488&#x27;]++;[&#x27;/assets.swgg.lib.json-schema.schema.json&#x27;,&#x27;/assets.swgg.lib.swa\
gger.petstore.json&#x27;,&#x27;/assets.swgg.lib.swagger.schema.json&#x27;].forEach(function(key){__cov_3.f[&#x27;65&#x27;]++;__cov_3.s[&#x27;489&#x27;]++;state.uti\
lity2.assetsDict[key]=local.utility2.assetsDict[key];});__cov_3.s[&#x27;490&#x27;]++;if(request.configGet){__cov_3.b[&#x27;96&#x27;][0]++;__cov_3.s[\
&#x27;491&#x27;]++;return state;}else{__cov_3.b[&#x27;96&#x27;][1]++;}}else{__cov_3.b[&#x27;94&#x27;][1]++;}__cov_3.s[&#x27;492&#x27;]++;if((__cov_3.b[&#x27;98&#x27;][0]++,reques\
t.stateGet)||(__cov_3.b[&#x27;98&#x27;][1]++,isRequest)){__cov_3.b[&#x27;97&#x27;][0]++;__cov_3.s[&#x27;493&#x27;]++;[&#x27;npm_package_description&#x27;,&#x27;npm_package_h\
omepage&#x27;,&#x27;npm_package_name&#x27;,&#x27;npm_package_version&#x27;].forEach(function(key){__cov_3.f[&#x27;66&#x27;]++;__cov_3.s[&#x27;494&#x27;]++;state.utility2.env\
Dict[key]=local.utility2.envDict[key];});__cov_3.s[&#x27;495&#x27;]++;if(request.stateGet){__cov_3.b[&#x27;99&#x27;][0]++;__cov_3.s[&#x27;496&#x27;]++;return \
state;}else{__cov_3.b[&#x27;99&#x27;][1]++;}}else{__cov_3.b[&#x27;97&#x27;][1]++;}__cov_3.s[&#x27;497&#x27;]++;if(isRequest){__cov_3.b[&#x27;100&#x27;][0]++;__cov_3.s[&#x27;\
498&#x27;]++;[&#x27;npm_config_mode_backend&#x27;].forEach(function(key){__cov_3.f[&#x27;67&#x27;]++;__cov_3.s[&#x27;499&#x27;]++;state.utility2.envDict[key]=local\
.utility2.envDict[key];});__cov_3.s[&#x27;500&#x27;]++;response.end(request.urlParsed.query.callback+&#x27;(&#x27;+JSON.stringify(state)+&#x27;);&#x27;);__cov\
_3.s[&#x27;501&#x27;]++;return;}else{__cov_3.b[&#x27;100&#x27;][1]++;}__cov_3.s[&#x27;502&#x27;]++;nextMiddleware();}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
        return local.utility2.assetsDict[key];
    case &#x27;local.swgg.stateInit&#x27;:
        return &#x27;// &#x27; + key + &#x27;\n&#x27; +
            local.utility2.assetsDict[&#x27;/assets.utility2.rollup.content.js&#x27;]
            .replace(
                &#x27;/* utility2.rollup.js content */&#x27;,
                key + &#x27;(&#x27; + JSON.stringify(
                    local.swgg.<span class="docApiCodeKeywordSpan">middlewareJsonpStateGet</span>({ stateGet: true })
                ) + &#x27;);&#x27;
            );
    default:
        return &#x27;// &#x27; + key + &#x27;\n&#x27; + local.utility2.assetsDict[key];
    }
}).join(&#x27;\n\n\n\n&#x27;);
local.utility2.assetsDict[&#x27;/assets.app.min.js&#x27;] =
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.middlewareRouter" id="element.swgg.middlewareRouter">
            function <span class="docApiSignatureSpan">swgg.</span>middlewareRouter
            <span class="docApiSignatureSpan">(request,response,nextMiddleware)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">middlewareRouter = function (request,response,nextMiddleware){__cov_3.f[&#x27;68&#x27;]++;__cov_3.s[&#x27;504&#x27;]++;var tmp;__cov_3.s[&#x27;505&#x27;]++;local.utility2.nop(re\
sponse);__cov_3.s[&#x27;506&#x27;]++;local.utility2.objectSetDefault(request,{swgg:{crud:{operationId:&#x27;&#x27;},user:{}}},2);__cov_3.s[&#x27;507&#x27;]++;\
if(request.urlParsed.pathname.indexOf(local.swgg.swaggerJson.basePath)!==0){__cov_3.b[&#x27;101&#x27;][0]++;__cov_3.s[&#x27;508&#x27;]++;nextMiddlew\
are();__cov_3.s[&#x27;509&#x27;]++;return;}else{__cov_3.b[&#x27;101&#x27;][1]++;}__cov_3.s[&#x27;510&#x27;]++;request.swgg.pathname=request.method+&#x27; &#x27;+request\
.urlParsed.pathname.replace(local.swgg.swaggerJson.basePath,&#x27;&#x27;);__cov_3.s[&#x27;511&#x27;]++;while(request.swgg.pathname!==tmp){__cov_3.s[\
&#x27;512&#x27;]++;request.swgg.pathObject=(__cov_3.b[&#x27;102&#x27;][0]++,local.swgg.apiDict[request.swgg.pathname])||(__cov_3.b[&#x27;102&#x27;][1]++,local\
.swgg.apiDict[request.swgg.pathname.replace(/\/[^\/]+\/([^\/]*?)$/,&#x27;//$1&#x27;)]);__cov_3.s[&#x27;513&#x27;]++;if(request.swgg.pathObject){__co\
v_3.b[&#x27;103&#x27;][0]++;__cov_3.s[&#x27;514&#x27;]++;request.swgg.pathObject=local.utility2.jsonCopy(request.swgg.pathObject);__cov_3.s[&#x27;515&#x27;]++\
;request.swgg.pathname=request.swgg.pathObject._keyPath;__cov_3.s[&#x27;516&#x27;]++;request.swgg.crud.operationId=request.swgg.pathObject\
._operationId;__cov_3.s[&#x27;517&#x27;]++;break;}else{__cov_3.b[&#x27;103&#x27;][1]++;}__cov_3.s[&#x27;518&#x27;]++;tmp=request.swgg.pathname;__cov_3.s[&#x27;519&#x27;\
]++;request.swgg.pathname=request.swgg.pathname.replace(/\/[^\/]+?(\/*?)$/,&#x27;/$1&#x27;);}__cov_3.s[&#x27;520&#x27;]++;nextMiddleware();}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.middlewareUserLogin" id="element.swgg.middlewareUserLogin">
            function <span class="docApiSignatureSpan">swgg.</span>middlewareUserLogin
            <span class="docApiSignatureSpan">(request,response,nextMiddleware)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">middlewareUserLogin = function (request,response,nextMiddleware){__cov_3.f[&#x27;69&#x27;]++;__cov_3.s[&#x27;522&#x27;]++;var modeNext,onNext,crud,user;__cov_3.s[&#x27;523&#x27;]++\
;modeNext=0;__cov_3.s[&#x27;524&#x27;]++;onNext=function(error,data){__cov_3.f[&#x27;70&#x27;]++;__cov_3.s[&#x27;525&#x27;]++;modeNext=error?(__cov_3.b[&#x27;104&#x27;]\
[0]++,Infinity):(__cov_3.b[&#x27;104&#x27;][1]++,modeNext+1);__cov_3.s[&#x27;526&#x27;]++;switch(modeNext){case 1:__cov_3.b[&#x27;105&#x27;][0]++;__cov_3.s[&#x27;5\
27&#x27;]++;crud=request.swgg.crud;__cov_3.s[&#x27;528&#x27;]++;user=request.swgg.user={};__cov_3.s[&#x27;529&#x27;]++;user.jwtEncoded=(__cov_3.b[&#x27;106&#x27;][\
0]++,request.headers.authorization)&amp;&amp;(__cov_3.b[&#x27;106&#x27;][1]++,request.headers.authorization.replace(&#x27;Bearer &#x27;,&#x27;&#x27;));__cov_3.s[&#x27;530&#x27;\
]++;local.swgg.collectionUser=local.swgg.collectionCreate(&#x27;User&#x27;);__cov_3.s[&#x27;531&#x27;]++;local.swgg.jwtEncodedDecodeAndDecrypt(user)\
;__cov_3.s[&#x27;532&#x27;]++;switch(crud.operationId.split(&#x27;.&#x27;)[0]){case&#x27;crudErrorLogin&#x27;:__cov_3.b[&#x27;107&#x27;][0]++;__cov_3.s[&#x27;533&#x27;]++;onNext(\
local.utility2.errorDefault);__cov_3.s[&#x27;534&#x27;]++;return;case&#x27;userLoginByPassword&#x27;:__cov_3.b[&#x27;107&#x27;][1]++;__cov_3.s[&#x27;535&#x27;]++;user.p\
assword=request.urlParsed.query.password;__cov_3.s[&#x27;536&#x27;]++;user.username=request.urlParsed.query.username;__cov_3.s[&#x27;537&#x27;]++;if\
((__cov_3.b[&#x27;109&#x27;][0]++,user.password)&amp;&amp;(__cov_3.b[&#x27;109&#x27;][1]++,user.username)){__cov_3.b[&#x27;108&#x27;][0]++;__cov_3.s[&#x27;538&#x27;]++;local.sw\
gg.collectionUser.findOne({username:user.username},onNext);__cov_3.s[&#x27;539&#x27;]++;return;}else{__cov_3.b[&#x27;108&#x27;][1]++;}__cov_3.s[&#x27;540\
&#x27;]++;break;default:__cov_3.b[&#x27;107&#x27;][2]++;__cov_3.s[&#x27;541&#x27;]++;if((__cov_3.b[&#x27;111&#x27;][0]++,user.jwtDecrypted)&amp;&amp;(__cov_3.b[&#x27;111&#x27;][1]++\
,user.jwtDecrypted.sub)){__cov_3.b[&#x27;110&#x27;][0]++;__cov_3.s[&#x27;542&#x27;]++;user.username=user.jwtDecrypted.sub;__cov_3.s[&#x27;543&#x27;]++;local.s\
wgg.collectionUser.findOne({username:user.jwtDecrypted.sub},onNext);__cov_3.s[&#x27;544&#x27;]++;return;}else{__cov_3.b[&#x27;110&#x27;][1]++;}}__co\
v_3.s[&#x27;545&#x27;]++;modeNext=Infinity;__cov_3.s[&#x27;546&#x27;]++;onNext();__cov_3.s[&#x27;547&#x27;]++;break;case 2:__cov_3.b[&#x27;105&#x27;][1]++;__cov_3.s[&#x27;54\
8&#x27;]++;switch(crud.operationId.split(&#x27;.&#x27;)[0]){case&#x27;userLoginByPassword&#x27;:__cov_3.b[&#x27;112&#x27;][0]++;__cov_3.s[&#x27;549&#x27;]++;user.data=data;_\
_cov_3.s[&#x27;550&#x27;]++;if(!local.utility2.bcryptPasswordValidate(user.password,(__cov_3.b[&#x27;114&#x27;][0]++,user.data)&amp;&amp;(__cov_3.b[&#x27;114&#x27;][1\
]++,user.data.password))){__cov_3.b[&#x27;113&#x27;][0]++;__cov_3.s[&#x27;551&#x27;]++;modeNext=Infinity;__cov_3.s[&#x27;552&#x27;]++;onNext();__cov_3.s[&#x27;553&#x27;\
]++;return;}else{__cov_3.b[&#x27;113&#x27;][1]++;}__cov_3.s[&#x27;554&#x27;]++;user.isAuthenticated=true;__cov_3.s[&#x27;555&#x27;]++;user.jwtDecrypted={};__c\
ov_3.s[&#x27;556&#x27;]++;user.jwtDecrypted.sub=user.data.username;__cov_3.s[&#x27;557&#x27;]++;local.swgg.jwtDecodedEncryptAndEncode(user);__cov_3.\
s[&#x27;558&#x27;]++;local.swgg.jwtEncodedSetHeader(request,response);__cov_3.s[&#x27;559&#x27;]++;local.swgg.collectionUser.update({username:user.j\
wtDecrypted.sub},{$set:{jwtEncoded:user.jwtEncoded}},onNext);__cov_3.s[&#x27;560&#x27;]++;return;default:__cov_3.b[&#x27;112&#x27;][1]++;__cov_3.s[&#x27;\
561&#x27;]++;user.data=(__cov_3.b[&#x27;115&#x27;][0]++,data)||(__cov_3.b[&#x27;115&#x27;][1]++,{});__cov_3.s[&#x27;562&#x27;]++;local.swgg.jwtEncodedDecodeAndDecr\
ypt(user.data);__cov_3.s[&#x27;563&#x27;]++;if((__cov_3.b[&#x27;117&#x27;][0]++,user.data.jwtDecrypted)&amp;&amp;(__cov_3.b[&#x27;117&#x27;][1]++,user.data.jwtDecrypt\
ed.sub===user.jwtDecrypted.sub)){__cov_3.b[&#x27;116&#x27;][0]++;__cov_3.s[&#x27;564&#x27;]++;user.isAuthenticated=true;__cov_3.s[&#x27;565&#x27;]++;if(user.d\
ata.jwtEncoded!==user.jwtEncoded){__cov_3.b[&#x27;118&#x27;][0]++;__cov_3.s[&#x27;566&#x27;]++;user.jwtEncoded=user.data.jwtEncoded;__cov_3.s[&#x27;567&#x27;]\
++;local.swgg.jwtEncodedDecodeAndDecrypt(user);__cov_3.s[&#x27;568&#x27;]++;local.swgg.jwtEncodedSetHeader(request,response);}else{__cov_3\
.b[&#x27;118&#x27;][1]++;}}else{__cov_3.b[&#x27;116&#x27;][1]++;}}__cov_3.s[&#x27;569&#x27;]++;onNext();__cov_3.s[&#x27;570&#x27;]++;break;default:__cov_3.b[&#x27;105&#x27;][2]++\
;__cov_3.s[&#x27;571&#x27;]++;nextMiddleware(error);}};__cov_3.s[&#x27;572&#x27;]++;onNext();}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.middlewareValidate" id="element.swgg.middlewareValidate">
            function <span class="docApiSignatureSpan">swgg.</span>middlewareValidate
            <span class="docApiSignatureSpan">(request,response,nextMiddleware)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">middlewareValidate = function (request,response,nextMiddleware){__cov_3.f[&#x27;71&#x27;]++;__cov_3.s[&#x27;574&#x27;]++;var crud,modeNext,onNext,tmp;__cov_3.s[&#x27;575&#x27;]++;\
modeNext=0;__cov_3.s[&#x27;576&#x27;]++;onNext=function(){__cov_3.f[&#x27;72&#x27;]++;__cov_3.s[&#x27;577&#x27;]++;modeNext+=1;__cov_3.s[&#x27;578&#x27;]++;switch(modeN\
ext){case 1:__cov_3.b[&#x27;119&#x27;][0]++;__cov_3.s[&#x27;579&#x27;]++;if(request.method+&#x27; &#x27;+request.urlParsed.pathname===&#x27;GET &#x27;+local.swgg.swagge\
rJson.basePath+&#x27;/swagger.json&#x27;){__cov_3.b[&#x27;120&#x27;][0]++;__cov_3.s[&#x27;580&#x27;]++;response.end(JSON.stringify(local.swgg.swaggerJson));__\
cov_3.s[&#x27;581&#x27;]++;return;}else{__cov_3.b[&#x27;120&#x27;][1]++;}__cov_3.s[&#x27;582&#x27;]++;if(!request.swgg.pathObject){__cov_3.b[&#x27;121&#x27;][0]++;__cov\
_3.s[&#x27;583&#x27;]++;modeNext=Infinity;__cov_3.s[&#x27;584&#x27;]++;onNext();__cov_3.s[&#x27;585&#x27;]++;return;}else{__cov_3.b[&#x27;121&#x27;][1]++;}__cov_3.s[&#x27;58\
6&#x27;]++;request.swgg.paramDict={};__cov_3.s[&#x27;587&#x27;]++;tmp=request.urlParsed.pathname.replace(local.swgg.swaggerJson.basePath,&#x27;&#x27;).sp\
lit(&#x27;/&#x27;);__cov_3.s[&#x27;588&#x27;]++;request.swgg.pathObject._path.split(&#x27;/&#x27;).forEach(function(key,ii){__cov_3.f[&#x27;73&#x27;]++;__cov_3.s[&#x27;589&#x27;]\
++;if(/^\{\S*?\}$/.test(key)){__cov_3.b[&#x27;122&#x27;][0]++;__cov_3.s[&#x27;590&#x27;]++;request.swgg.paramDict[key.slice(1,-1)]=decodeURIComponen\
t(tmp[ii]);}else{__cov_3.b[&#x27;122&#x27;][1]++;}});__cov_3.s[&#x27;591&#x27;]++;request.swgg.pathObject.parameters.forEach(function(paramDef){__co\
v_3.f[&#x27;74&#x27;]++;__cov_3.s[&#x27;592&#x27;]++;switch(paramDef.in){case&#x27;body&#x27;:__cov_3.b[&#x27;123&#x27;][0]++;__cov_3.s[&#x27;593&#x27;]++;request.swgg.paramDict[\
paramDef.name]=(__cov_3.b[&#x27;124&#x27;][0]++,request.swgg.bodyParsed)||(__cov_3.b[&#x27;124&#x27;][1]++,undefined);__cov_3.s[&#x27;594&#x27;]++;break;case&#x27;\
formData&#x27;:__cov_3.b[&#x27;123&#x27;][1]++;__cov_3.s[&#x27;595&#x27;]++;switch(String(request.headers[&#x27;content-type&#x27;]).split(&#x27;;&#x27;)[0]){case&#x27;applicatio\
n/x-www-form-urlencoded&#x27;:__cov_3.b[&#x27;125&#x27;][0]++;__cov_3.s[&#x27;596&#x27;]++;request.swgg.paramDict[paramDef.name]=request.swgg.bodyParsed[\
paramDef.name];__cov_3.s[&#x27;597&#x27;]++;break;}__cov_3.s[&#x27;598&#x27;]++;break;case&#x27;header&#x27;:__cov_3.b[&#x27;123&#x27;][2]++;__cov_3.s[&#x27;599&#x27;]++;request.\
swgg.paramDict[paramDef.name]=request.headers[paramDef.name.toLowerCase()];__cov_3.s[&#x27;600&#x27;]++;break;case&#x27;query&#x27;:__cov_3.b[&#x27;123&#x27;]\
[3]++;__cov_3.s[&#x27;601&#x27;]++;request.swgg.paramDict[paramDef.name]=request.urlParsed.query[paramDef.name];__cov_3.s[&#x27;602&#x27;]++;break;}\
__cov_3.s[&#x27;603&#x27;]++;if((__cov_3.b[&#x27;127&#x27;][0]++,local.utility2.isNullOrUndefined(request.swgg.paramDict[paramDef.name]))&amp;&amp;(__cov_3.\
b[&#x27;127&#x27;][1]++,paramDef.default!==undefined)){__cov_3.b[&#x27;126&#x27;][0]++;__cov_3.s[&#x27;604&#x27;]++;request.swgg.paramDict[paramDef.name]=loca\
l.utility2.jsonCopy(paramDef.default);}else{__cov_3.b[&#x27;126&#x27;][1]++;}});__cov_3.s[&#x27;605&#x27;]++;local.swgg.normalizeParamDictSwagger(re\
quest.swgg.paramDict,request.swgg.pathObject);__cov_3.s[&#x27;606&#x27;]++;local.swgg.validateByParamDefList({data:request.swgg.paramDict,\
key:request.swgg.pathname,paramDefList:request.swgg.pathObject.parameters});__cov_3.s[&#x27;607&#x27;]++;onNext();__cov_3.s[&#x27;608&#x27;]++;break\
;case 2:__cov_3.b[&#x27;119&#x27;][1]++;__cov_3.s[&#x27;609&#x27;]++;crud=request.swgg.crud;__cov_3.s[&#x27;610&#x27;]++;crud.collection=(__cov_3.b[&#x27;128&#x27;][0]+\
+,request.swgg.pathObject)&amp;&amp;(__cov_3.b[&#x27;128&#x27;][1]++,request.swgg.pathObject._schemaName)&amp;&amp;(__cov_3.b[&#x27;128&#x27;][2]++,local.swgg.colle\
ctionCreate(request.swgg.pathObject._schemaName));__cov_3.s[&#x27;611&#x27;]++;if(!crud.collection){__cov_3.b[&#x27;129&#x27;][0]++;__cov_3.s[&#x27;612&#x27;]\
++;nextMiddleware();__cov_3.s[&#x27;613&#x27;]++;return;}else{__cov_3.b[&#x27;129&#x27;][1]++;}__cov_3.s[&#x27;614&#x27;]++;if(!request.swgg.isMultipartFormDa\
ta){__cov_3.b[&#x27;130&#x27;][0]++;__cov_3.s[&#x27;615&#x27;]++;crud.body=local.utility2.jsonCopy(request.swgg.bodyParsed);}else{__cov_3.b[&#x27;130&#x27;][1\
]++;}__cov_3.s[&#x27;616&#x27;]++;crud.data=local.utility2.jsonCopy(request.swgg.paramDict);__cov_3.s[&#x27;617&#x27;]++;request.swgg.pathObject.par\
ameters.forEach(function(param){__cov_3.f[&#x27;75&#x27;]++;__cov_3.s[&#x27;618&#x27;]++;if((__cov_3.b[&#x27;132&#x27;][0]++,param.format===&#x27;json&#x27;)&amp;&amp;(__cov_3.\
b[&#x27;132&#x27;][1]++,param.type===&#x27;string&#x27;)&amp;&amp;(__cov_3.b[&#x27;132&#x27;][2]++,crud.data[param.name])){__cov_3.b[&#x27;131&#x27;][0]++;__cov_3.s[&#x27;619&#x27;]++;cr\
ud.data[param.name]=JSON.parse(crud.data[param.name]);}else{__cov_3.b[&#x27;131&#x27;][1]++;}});__cov_3.s[&#x27;620&#x27;]++;[{key:&#x27;queryFields&#x27;,val\
ue:{}},{key:&#x27;queryLimit&#x27;,value:100},{key:&#x27;querySkip&#x27;,value:0},{key ...</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.nedbReset" id="element.swgg.nedbReset">
            function <span class="docApiSignatureSpan">swgg.</span>nedbReset
            <span class="docApiSignatureSpan">(onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">nedbReset = function (onError){__cov_3.f[&#x27;79&#x27;]++;__cov_3.s[&#x27;644&#x27;]++;var onParallel;__cov_3.s[&#x27;645&#x27;]++;onParallel=local.utility2.onParallel(o\
nError);__cov_3.s[&#x27;646&#x27;]++;onParallel.counter+=1;__cov_3.s[&#x27;647&#x27;]++;local.swgg.Nedb.fileReset(function(){__cov_3.f[&#x27;80&#x27;]++;__cov\
_3.s[&#x27;648&#x27;]++;Object.keys(local.swgg.collectionDict).forEach(function(collection){__cov_3.f[&#x27;81&#x27;]++;__cov_3.s[&#x27;649&#x27;]++;collectio\
n=local.swgg.collectionDict[collection];__cov_3.s[&#x27;650&#x27;]++;onParallel.counter+=1;__cov_3.s[&#x27;651&#x27;]++;collection.loadDatabase(onPa\
rallel);});__cov_3.s[&#x27;652&#x27;]++;onParallel();});}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    }
    switch (event &amp;&amp; event.currentTarget.id) {
    case &#x27;testRunButton1&#x27;:
        local.modeTest = true;
        local.utility2.testRun(local);
        break;
    case &#x27;swggButtonNedbReset1&#x27;:
        window.swgg.<span class="docApiCodeKeywordSpan">nedbReset</span>(function () {
            location.reload();
        });
        break;
    }
};
// init event-handling
document.querySelector(&#x27;#swggButtonNedbReset1&#x27;)
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.normalizeParamDictSwagger" id="element.swgg.normalizeParamDictSwagger">
            function <span class="docApiSignatureSpan">swgg.</span>normalizeParamDictSwagger
            <span class="docApiSignatureSpan">(data,pathObject)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">normalizeParamDictSwagger = function (data,pathObject){__cov_3.f[&#x27;82&#x27;]++;__cov_3.s[&#x27;654&#x27;]++;var tmp;__cov_3.s[&#x27;655&#x27;]++;pathObject.parameters.forEach(functio\
n(paramDef){__cov_3.f[&#x27;83&#x27;]++;__cov_3.s[&#x27;656&#x27;]++;tmp=data[paramDef.name];__cov_3.s[&#x27;657&#x27;]++;if((__cov_3.b[&#x27;142&#x27;][0]++,local.util\
ity2.isNullOrUndefined(tmp))&amp;&amp;(__cov_3.b[&#x27;142&#x27;][1]++,paramDef.default!==undefined)){__cov_3.b[&#x27;141&#x27;][0]++;__cov_3.s[&#x27;658&#x27;]++;tmp\
=local.utility2.jsonCopy(paramDef.default);}else{__cov_3.b[&#x27;141&#x27;][1]++;}__cov_3.s[&#x27;659&#x27;]++;if((__cov_3.b[&#x27;144&#x27;][0]++,!((__cov_3.\
b[&#x27;145&#x27;][0]++,paramDef.type===&#x27;file&#x27;)||(__cov_3.b[&#x27;145&#x27;][1]++,paramDef.type===&#x27;string&#x27;)))&amp;&amp;((__cov_3.b[&#x27;144&#x27;][1]++,typeof tmp===\
&#x27;string&#x27;)||(__cov_3.b[&#x27;144&#x27;][2]++,tmp instanceof local.global.Uint8Array))){__cov_3.b[&#x27;143&#x27;][0]++;__cov_3.s[&#x27;660&#x27;]++;local.utili\
ty2.tryCatchOnError(function(){__cov_3.f[&#x27;84&#x27;]++;__cov_3.s[&#x27;661&#x27;]++;tmp=JSON.parse(local.utility2.bufferToString(tmp));},local.u\
tility2.nop);}else{__cov_3.b[&#x27;143&#x27;][1]++;}__cov_3.s[&#x27;662&#x27;]++;data[paramDef.name]=tmp;});__cov_3.s[&#x27;663&#x27;]++;return data;}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    paramDict: {},
    url: &#x27;&#x27;
});
// try to validate paramDict
local.utility2.tryCatchOnError(function () {
    local.swgg.validateByParamDefList({
        // normalize paramDict
        data: local.swgg.<span class="docApiCodeKeywordSpan">normalizeParamDictSwagger</span>(
            local.utility2.jsonCopy(options.paramDict),
            self
        ),
        dataReadonlyRemove: options.paramDict,
        key: self.operationId,
        paramDefList: self.parameters
    });
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.onErrorJsonapi" id="element.swgg.onErrorJsonapi">
            function <span class="docApiSignatureSpan">swgg.</span>onErrorJsonapi
            <span class="docApiSignatureSpan">(onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">onErrorJsonapi = function (onError){__cov_3.f[&#x27;85&#x27;]++;__cov_3.s[&#x27;665&#x27;]++;return function(error,data,meta){__cov_3.f[&#x27;86&#x27;]++;__cov_3.s[&#x27;666&#x27;]++;da\
ta=[error,data].map(function(data,ii){__cov_3.f[&#x27;87&#x27;]++;__cov_3.s[&#x27;667&#x27;]++;if((__cov_3.b[&#x27;147&#x27;][0]++,ii===0)&amp;&amp;(__cov_3.b[&#x27;147&#x27;][\
1]++,!data)||(__cov_3.b[&#x27;147&#x27;][2]++,data)&amp;&amp;(__cov_3.b[&#x27;147&#x27;][3]++,data.meta)&amp;&amp;(__cov_3.b[&#x27;147&#x27;][4]++,data.meta.isJsonapiResponse\
)){__cov_3.b[&#x27;146&#x27;][0]++;__cov_3.s[&#x27;668&#x27;]++;return data;}else{__cov_3.b[&#x27;146&#x27;][1]++;}__cov_3.s[&#x27;669&#x27;]++;if(!Array.isArray(data))\
{__cov_3.b[&#x27;148&#x27;][0]++;__cov_3.s[&#x27;670&#x27;]++;data=[data];}else{__cov_3.b[&#x27;148&#x27;][1]++;}__cov_3.s[&#x27;671&#x27;]++;if(ii===0){__cov_3.b[&#x27;149&#x27;\
][0]++;__cov_3.s[&#x27;672&#x27;]++;if(!data.length){__cov_3.b[&#x27;150&#x27;][0]++;__cov_3.s[&#x27;673&#x27;]++;data.push(null);}else{__cov_3.b[&#x27;150&#x27;][1]++;\
}__cov_3.s[&#x27;674&#x27;]++;data=data.map(function(element){__cov_3.f[&#x27;88&#x27;]++;__cov_3.s[&#x27;675&#x27;]++;if(!((__cov_3.b[&#x27;152&#x27;][0]++,element)&amp;&amp;(\
__cov_3.b[&#x27;152&#x27;][1]++,typeof element===&#x27;object&#x27;))){__cov_3.b[&#x27;151&#x27;][0]++;__cov_3.s[&#x27;676&#x27;]++;element={message:String(element)};}e\
lse{__cov_3.b[&#x27;151&#x27;][1]++;}__cov_3.s[&#x27;677&#x27;]++;error=local.utility2.jsonCopy(element);__cov_3.s[&#x27;678&#x27;]++;error.message=element.me\
ssage;__cov_3.s[&#x27;679&#x27;]++;error.stack=element.stack;__cov_3.s[&#x27;680&#x27;]++;error.statusCode=(__cov_3.b[&#x27;153&#x27;][0]++,Number(error.statu\
sCode))||(__cov_3.b[&#x27;153&#x27;][1]++,500);__cov_3.s[&#x27;681&#x27;]++;return error;});__cov_3.s[&#x27;682&#x27;]++;error=local.utility2.jsonCopy(data[0]\
);__cov_3.s[&#x27;683&#x27;]++;error.errors=data;__cov_3.s[&#x27;684&#x27;]++;return error;}else{__cov_3.b[&#x27;149&#x27;][1]++;}__cov_3.s[&#x27;685&#x27;]++;return{da\
ta:data};});__cov_3.s[&#x27;686&#x27;]++;data.forEach(function(data,ii){__cov_3.f[&#x27;89&#x27;]++;__cov_3.s[&#x27;687&#x27;]++;if(!data){__cov_3.b[&#x27;154&#x27;][0]\
++;__cov_3.s[&#x27;688&#x27;]++;return;}else{__cov_3.b[&#x27;154&#x27;][1]++;}__cov_3.s[&#x27;689&#x27;]++;data.meta=local.utility2.jsonCopy((__cov_3.b[&#x27;155&#x27;]\
[0]++,meta)||(__cov_3.b[&#x27;155&#x27;][1]++,{}));__cov_3.s[&#x27;690&#x27;]++;if(typeof data.meta!==&#x27;object&#x27;){__cov_3.b[&#x27;156&#x27;][0]++;__cov_3.s[&#x27;691\
&#x27;]++;data.meta={metaData:meta};}else{__cov_3.b[&#x27;156&#x27;][1]++;}__cov_3.s[&#x27;692&#x27;]++;data.meta.isJsonapiResponse=true;__cov_3.s[&#x27;693&#x27;]\
++;if(ii===0){__cov_3.b[&#x27;157&#x27;][0]++;__cov_3.s[&#x27;694&#x27;]++;data.meta.errorsLength=((__cov_3.b[&#x27;158&#x27;][0]++,data.errors)&amp;&amp;(__cov_3.b[&#x27;\
158&#x27;][1]++,data.errors.length))|0;}else{__cov_3.b[&#x27;157&#x27;][1]++;__cov_3.s[&#x27;695&#x27;]++;data.meta.dataLength=((__cov_3.b[&#x27;159&#x27;][0]++,da\
ta.data)&amp;&amp;(__cov_3.b[&#x27;159&#x27;][1]++,data.data.length))|0;}__cov_3.s[&#x27;696&#x27;]++;data.meta.statusCode=(__cov_3.b[&#x27;160&#x27;][0]++,Number(dat\
a.meta.statusCode))||(__cov_3.b[&#x27;160&#x27;][1]++,Number(data.statusCode))||(__cov_3.b[&#x27;160&#x27;][2]++,0);});__cov_3.s[&#x27;697&#x27;]++;onError(da\
ta[0],data[1]);};}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
// test redundant http-body-parse-middleware handling-behavior
local.middleware.middlewareList.push(local.swgg.middlewareBodyParse);
// init test-middleware
local.middleware.middlewareList.push(function (request, response, nextMiddleware) {
    switch (request.swgg.pathObject &amp;&amp; request.swgg.pathObject.operationId) {
    case &#x27;onErrorJsonapi&#x27;:
        // test redundant onErrorJsonapi handling-behavior
        local.swgg.<span class="docApiCodeKeywordSpan">onErrorJsonapi</span>(function (error, data) {
            local.swgg.serverRespondJsonapi(request, response, error, data);
        })(
            JSON.parse(request.swgg.paramDict.error || &#x27;null&#x27;),
            JSON.parse(request.swgg.paramDict.data || &#x27;null&#x27;)
        );
        break;
    case &#x27;paramBodyArray&#x27;:
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.schemaNormalizeAndCopy" id="element.swgg.schemaNormalizeAndCopy">
            function <span class="docApiSignatureSpan">swgg.</span>schemaNormalizeAndCopy
            <span class="docApiSignatureSpan">(schema)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">schemaNormalizeAndCopy = function (schema){__cov_3.f[&#x27;90&#x27;]++;__cov_3.s[&#x27;699&#x27;]++;var tmp;__cov_3.s[&#x27;700&#x27;]++;if(schema.$ref){__cov_3.b[&#x27;161&#x27;][0]++;__cov_3.\
s[&#x27;701&#x27;]++;[local.swgg.swaggerJson,local.swgg.swaggerSchemaJson].some(function(options){__cov_3.f[&#x27;91&#x27;]++;__cov_3.s[&#x27;702&#x27;]++;loc\
al.utility2.tryCatchOnError(function(){__cov_3.f[&#x27;92&#x27;]++;__cov_3.s[&#x27;703&#x27;]++;schema.$ref.replace(/#\/(.*?)\/(.*?)$/,function(matc\
h0,match1,match2){__cov_3.f[&#x27;93&#x27;]++;__cov_3.s[&#x27;704&#x27;]++;local.utility2.nop(match0);__cov_3.s[&#x27;705&#x27;]++;tmp=options[match1][match2]\
;});},local.utility2.nop);__cov_3.s[&#x27;706&#x27;]++;return tmp;});__cov_3.s[&#x27;707&#x27;]++;local.utility2.assert(tmp,schema.$ref);__cov_3.s[&#x27;\
708&#x27;]++;tmp=local.swgg.schemaNormalizeAndCopy(tmp);__cov_3.s[&#x27;709&#x27;]++;schema=tmp;}else{__cov_3.b[&#x27;161&#x27;][1]++;}__cov_3.s[&#x27;710&#x27;]++\
;if(schema.allOf){__cov_3.b[&#x27;162&#x27;][0]++;__cov_3.s[&#x27;711&#x27;]++;tmp=local.utility2.jsonCopy(schema);__cov_3.s[&#x27;712&#x27;]++;delete tmp.all\
Of;__cov_3.s[&#x27;713&#x27;]++;schema.allOf.reverse().forEach(function(element){__cov_3.f[&#x27;94&#x27;]++;__cov_3.s[&#x27;714&#x27;]++;local.utility2.objec\
tSetDefault(tmp,local.swgg.schemaNormalizeAndCopy(element),2);});__cov_3.s[&#x27;715&#x27;]++;schema=tmp;}else{__cov_3.b[&#x27;162&#x27;][1]++;}__co\
v_3.s[&#x27;716&#x27;]++;return local.utility2.jsonCopy(schema);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
});
// merge options into swaggerJson
options = local.utility2.objectSetOverride(local.swgg.swaggerJson, options, 10);
// restore tags
local.swgg.swaggerJson.tags = tmp;
Object.keys(options.definitions).forEach(function (schemaName) {
    // normalize definition
    options.definitions[schemaName] = local.swgg.<span class="docApiCodeKeywordSpan">schemaNormalizeAndCopy</span>(
        options.definitions[schemaName]
    );
});
// init apiDict from paths
Object.keys(options.paths).forEach(function (path) {
    Object.keys(options.paths[path]).forEach(function (method) {
        var self;
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.serverRespondJsonapi" id="element.swgg.serverRespondJsonapi">
            function <span class="docApiSignatureSpan">swgg.</span>serverRespondJsonapi
            <span class="docApiSignatureSpan">(request,response,error,data,meta)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">serverRespondJsonapi = function (request,response,error,data,meta){__cov_3.f[&#x27;95&#x27;]++;__cov_3.s[&#x27;718&#x27;]++;local.swgg.onErrorJsonapi(function(error,data){\
__cov_3.f[&#x27;96&#x27;]++;__cov_3.s[&#x27;719&#x27;]++;local.utility2.serverRespondHeadSet(request,response,(__cov_3.b[&#x27;163&#x27;][0]++,error)&amp;&amp;(__cov_\
3.b[&#x27;163&#x27;][1]++,error.statusCode),{&#x27;Content-Type&#x27;:&#x27;application/json; charset=UTF-8&#x27;});__cov_3.s[&#x27;720&#x27;]++;if(error){__cov_3.b[&#x27;16\
4&#x27;][0]++;__cov_3.s[&#x27;721&#x27;]++;local.utility2.errorMessagePrepend(error,response.statusCode+&#x27; &#x27;+request.method+&#x27; &#x27;+request.url+&#x27;\n&#x27;\
);__cov_3.s[&#x27;722&#x27;]++;local.utility2.onErrorDefault(error);}else{__cov_3.b[&#x27;164&#x27;][1]++;}__cov_3.s[&#x27;723&#x27;]++;data=(__cov_3.b[&#x27;165&#x27;]\
[0]++,error)||(__cov_3.b[&#x27;165&#x27;][1]++,data);__cov_3.s[&#x27;724&#x27;]++;data.meta.statusCode=response.statusCode=(__cov_3.b[&#x27;166&#x27;][0]++,da\
ta.meta.statusCode)||(__cov_3.b[&#x27;166&#x27;][1]++,response.statusCode);__cov_3.s[&#x27;725&#x27;]++;response.end(JSON.stringify(data));})(error,\
data,meta);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
                    result[element.status] += 1;
                });
                onNext(null, result);
                break;
            }
            break;
        case 3:
            local.swgg.<span class="docApiCodeKeywordSpan">serverRespondJsonapi</span>(request, response, error, data);
            break;
        default:
            nextMiddleware(error, data);
        }
    };
    onNext();
};
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.stateInit" id="element.swgg.stateInit">
            function <span class="docApiSignatureSpan">swgg.</span>stateInit
            <span class="docApiSignatureSpan">(options)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">stateInit = function (options){__cov_3.f[&#x27;97&#x27;]++;__cov_3.s[&#x27;727&#x27;]++;local.utility2.objectSetOverride(local,options,10);__cov_3.s[&#x27;728&#x27;]++;lo\
cal.swgg.swaggerSchemaJson=local.utility2.objectSetOverride(JSON.parse(local.utility2.assetsDict[&#x27;/assets.swgg.lib.json-schema.s\
chema.json&#x27;]),JSON.parse(local.utility2.assetsDict[&#x27;/assets.swgg.lib.swagger.schema.json&#x27;]),2);__cov_3.s[&#x27;729&#x27;]++;local.swgg.api\
DictUpdate(local.swgg.swaggerJson);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
}



// run shared js-env code - post-init
(function () {
    // init state
    local.swgg.<span class="docApiCodeKeywordSpan">stateInit</span>({});
}());
}(
(function () {
    &#x27;use strict&#x27;;
    var local;
    // init local
    local = {};
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.urlBaseGet" id="element.swgg.urlBaseGet">
            function <span class="docApiSignatureSpan">swgg.</span>urlBaseGet
            <span class="docApiSignatureSpan">()</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">urlBaseGet = function (){__cov_3.f[&#x27;98&#x27;]++;__cov_3.s[&#x27;731&#x27;]++;return((__cov_3.b[&#x27;167&#x27;][0]++,local.swgg.swaggerJson.schemes)||(__cov_3.b[&#x27;167&#x27;\
][1]++,local.utility2.urlParse(&#x27;&#x27;).protocol.slice(0,-1)))+&#x27;://&#x27;+((__cov_3.b[&#x27;168&#x27;][0]++,local.swgg.swaggerJson.host)||(__cov_3.b\
[&#x27;168&#x27;][1]++,local.utility2.urlParse(&#x27;&#x27;).host))+local.swgg.swaggerJson.basePath;}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
// init headers - Authorization
options.jwtEncoded = options.jwtEncoded || local.swgg.userJwtEncoded;
if (options.jwtEncoded) {
    options.headers.Authorization = options.headers.Authorization ||
        &#x27;Bearer &#x27; + options.jwtEncoded;
}
// init url
options.url = (local.swgg.<span class="docApiCodeKeywordSpan">urlBaseGet</span>() + options.inPath + &#x27;?&#x27; +
    options.inQuery.slice(1))
    .replace((/\?$/), &#x27;&#x27;);
if (!(options.headers[&#x27;Content-Type&#x27;] || options.headers[&#x27;content-type&#x27;])) {
    options.headers[&#x27;content-type&#x27;] = &#x27;application/json; charset=UTF-8&#x27;;
}
// send ajax-request
return local.utility2.ajax(options, function (error, xhr) {
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.userLoginByPassword" id="element.swgg.userLoginByPassword">
            function <span class="docApiSignatureSpan">swgg.</span>userLoginByPassword
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">userLoginByPassword = function (options,onError){__cov_3.f[&#x27;99&#x27;]++;__cov_3.s[&#x27;733&#x27;]++;local.swgg.apiDict[&#x27;GET /user/userLoginByPassword&#x27;]._ajax({param\
Dict:{password:options.password,username:options.username}},onError);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    local.swgg.userLogout(options, onNext);
    break;
case 2:
    // validate error occurred
    local.utility2.assert(error, error);
    // test userLoginByPassword&#x27;s 401 handling-behavior
    options = { password: &#x27;undefined&#x27;, username: &#x27;undefined&#x27; };
    local.swgg.<span class="docApiCodeKeywordSpan">userLoginByPassword</span>(options, onNext);
    break;
case 3:
    // validate error occurred
    local.utility2.assert(error, error);
    // validate statusCode
    local.utility2.assertJsonEqual(data.statusCode, 401);
    // validate userJwtEncoded does not exist
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.userLogout" id="element.swgg.userLogout">
            function <span class="docApiSignatureSpan">swgg.</span>userLogout
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">userLogout = function (options,onError){__cov_3.f[&#x27;100&#x27;]++;__cov_3.s[&#x27;735&#x27;]++;local.swgg.apiDict[&#x27;GET /user/userLogout&#x27;]._ajax(options,onErro\
r);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
modeNext += 1;
switch (modeNext) {
case 1:
    // cleanup userJwtEncoded
    delete local.swgg.userJwtEncoded;
    // test userLogout&#x27;s default handling-behavior
    options = {};
    local.swgg.<span class="docApiCodeKeywordSpan">userLogout</span>(options, onNext);
    break;
case 2:
    // validate error occurred
    local.utility2.assert(error, error);
    // test userLoginByPassword&#x27;s 401 handling-behavior
    options = { password: &#x27;undefined&#x27;, username: &#x27;undefined&#x27; };
    local.swgg.userLoginByPassword(options, onNext);
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.validateByParamDefList" id="element.swgg.validateByParamDefList">
            function <span class="docApiSignatureSpan">swgg.</span>validateByParamDefList
            <span class="docApiSignatureSpan">(options)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">validateByParamDefList = function (options){__cov_3.f[&#x27;101&#x27;]++;__cov_3.s[&#x27;737&#x27;]++;var data,key;__cov_3.s[&#x27;738&#x27;]++;local.utility2.tryCatchOnError(function\
(){__cov_3.f[&#x27;102&#x27;]++;__cov_3.s[&#x27;739&#x27;]++;data=options.data;__cov_3.s[&#x27;740&#x27;]++;local.utility2.assert((__cov_3.b[&#x27;169&#x27;][0]++,data)\
&amp;&amp;(__cov_3.b[&#x27;169&#x27;][1]++,typeof data===&#x27;object&#x27;),data);__cov_3.s[&#x27;741&#x27;]++;((__cov_3.b[&#x27;170&#x27;][0]++,options.paramDefList)||(__cov_\
3.b[&#x27;170&#x27;][1]++,[])).forEach(function(paramDef){__cov_3.f[&#x27;103&#x27;]++;__cov_3.s[&#x27;742&#x27;]++;key=paramDef.name;__cov_3.s[&#x27;743&#x27;]++;local\
.swgg.validateByPropDef({circularList:options.circularList,data:data[key],dataReadonlyRemove:((__cov_3.b[&#x27;171&#x27;][0]++,options.dat\
aReadonlyRemove)||(__cov_3.b[&#x27;171&#x27;][1]++,{}))[key],key:key,schema:paramDef,required:paramDef.required,&#x27;x-swgg-notRequired&#x27;:param\
Def[&#x27;x-swgg-notRequired&#x27;]});});},function(error){__cov_3.f[&#x27;104&#x27;]++;__cov_3.s[&#x27;744&#x27;]++;error.statusCode=(__cov_3.b[&#x27;172&#x27;][0]++,e\
rror.statusCode)||(__cov_3.b[&#x27;172&#x27;][1]++,400);__cov_3.s[&#x27;745&#x27;]++;local.utility2.errorMessagePrepend(error,options.key+&#x27;.&#x27;+key+&#x27; \
-&gt; &#x27;);__cov_3.s[&#x27;746&#x27;]++;throw error;});}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
        /*
* this function will test validateByParamDefList&#x27;s default handling-behavior
*/
   var onParallel;
   onParallel = local.utility2.onParallel(onError);
   onParallel.counter += 1;
   // test nop handling-behavior
   local.swgg.<span class="docApiCodeKeywordSpan">validateByParamDefList</span>({ data: {} });
   options = { paramDict: {
       id: &#x27;00_test_testCase_validateByParamDefList_default&#x27;,
       // test array-param handling-behavior
       paramArray: [&#x27;aa&#x27;, &#x27;bb&#x27;],
       // test body-param handling-behavior
       paramBody: { aa: { bb: &#x27;hello body&#x27; } },
       // test boolean-param handling-behavior
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.validateByPropDef" id="element.swgg.validateByPropDef">
            function <span class="docApiSignatureSpan">swgg.</span>validateByPropDef
            <span class="docApiSignatureSpan">(options)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">validateByPropDef = function (options){__cov_3.f[&#x27;105&#x27;]++;__cov_3.s[&#x27;748&#x27;]++;var data,prefix,propDef,tmp;__cov_3.s[&#x27;749&#x27;]++;local.utility2.tryCatchO\
nError(function(){__cov_3.f[&#x27;106&#x27;]++;__cov_3.s[&#x27;750&#x27;]++;data=options.data;__cov_3.s[&#x27;751&#x27;]++;prefix=&#x27;property &#x27;+options.key;__co\
v_3.s[&#x27;752&#x27;]++;propDef=options.schema;__cov_3.s[&#x27;753&#x27;]++;if(local.utility2.isNullOrUndefined(data)){__cov_3.b[&#x27;173&#x27;][0]++;__cov_\
3.s[&#x27;754&#x27;]++;if((__cov_3.b[&#x27;175&#x27;][0]++,options.required)&amp;&amp;(__cov_3.b[&#x27;175&#x27;][1]++,!options[&#x27;x-swgg-notRequired&#x27;])){__cov_3.b[&#x27;174\
&#x27;][0]++;__cov_3.s[&#x27;755&#x27;]++;tmp=new Error(prefix+&#x27; cannot be null or undefined&#x27;);__cov_3.s[&#x27;756&#x27;]++;tmp.options=options;__cov_3.s\
[&#x27;757&#x27;]++;throw tmp;}else{__cov_3.b[&#x27;174&#x27;][1]++;}__cov_3.s[&#x27;758&#x27;]++;return;}else{__cov_3.b[&#x27;173&#x27;][1]++;}__cov_3.s[&#x27;759&#x27;]++;tmp=(\
__cov_3.b[&#x27;176&#x27;][0]++,propDef.$ref)||(__cov_3.b[&#x27;176&#x27;][1]++,propDef.schema)&amp;&amp;(__cov_3.b[&#x27;176&#x27;][2]++,propDef.schema.$ref);__cov_3\
.s[&#x27;760&#x27;]++;if(tmp){__cov_3.b[&#x27;177&#x27;][0]++;__cov_3.s[&#x27;761&#x27;]++;local.swgg.validateBySchema({circularList:options.circularList,data\
:data,dataReadonlyRemove:options.dataReadonlyRemove,key:tmp,schema:local.swgg.schemaNormalizeAndCopy({$ref:tmp}),&#x27;x-swgg-notRequ\
ired&#x27;:options[&#x27;x-swgg-notRequired&#x27;]});__cov_3.s[&#x27;762&#x27;]++;return;}else{__cov_3.b[&#x27;177&#x27;][1]++;}__cov_3.s[&#x27;763&#x27;]++;if(propDef.anyOf\
){__cov_3.b[&#x27;178&#x27;][0]++;__cov_3.s[&#x27;764&#x27;]++;tmp=propDef.anyOf.some(function(element){__cov_3.f[&#x27;107&#x27;]++;__cov_3.s[&#x27;765&#x27;]++;local.\
utility2.tryCatchOnError(function(){__cov_3.f[&#x27;108&#x27;]++;__cov_3.s[&#x27;766&#x27;]++;local.swgg.validateBySchema({circularList:options.circ\
ularList,data:data,key:&#x27;anyOf&#x27;,schema:local.swgg.schemaNormalizeAndCopy(element),&#x27;x-swgg-notRequired&#x27;:options[&#x27;x-swgg-notRequire\
d&#x27;]});},local.utility2.nop);__cov_3.s[&#x27;767&#x27;]++;return!local.utility2.tryCatchErrorCaught;});__cov_3.s[&#x27;768&#x27;]++;local.utility2.as\
sert(tmp,local.utility2.tryCatchErrorCaught);__cov_3.s[&#x27;769&#x27;]++;return;}else{__cov_3.b[&#x27;178&#x27;][1]++;}__cov_3.s[&#x27;770&#x27;]++;propDef=l\
ocal.swgg.schemaNormalizeAndCopy(options.schema);__cov_3.s[&#x27;771&#x27;]++;if((__cov_3.b[&#x27;180&#x27;][0]++,data)&amp;&amp;(__cov_3.b[&#x27;180&#x27;][1]++,type\
of data===&#x27;object&#x27;)){__cov_3.b[&#x27;179&#x27;][0]++;__cov_3.s[&#x27;772&#x27;]++;options.circularList=(__cov_3.b[&#x27;181&#x27;][0]++,options.circularList)|\
|(__cov_3.b[&#x27;181&#x27;][1]++,[]);__cov_3.s[&#x27;773&#x27;]++;if(options.circularList.indexOf(data)&gt;=0){__cov_3.b[&#x27;182&#x27;][0]++;__cov_3.s[&#x27;774&#x27;]+\
+;return;}else{__cov_3.b[&#x27;182&#x27;][1]++;}__cov_3.s[&#x27;775&#x27;]++;options.circularList.push(data);}else{__cov_3.b[&#x27;179&#x27;][1]++;}__cov_3.s[\
&#x27;776&#x27;]++;if((__cov_3.b[&#x27;184&#x27;][0]++,!propDef.type)&amp;&amp;(__cov_3.b[&#x27;184&#x27;][1]++,propDef.schema)&amp;&amp;(__cov_3.b[&#x27;184&#x27;][2]++,propDef.schema\
.type)){__cov_3.b[&#x27;183&#x27;][0]++;__cov_3.s[&#x27;777&#x27;]++;propDef=propDef.schema;}else{__cov_3.b[&#x27;183&#x27;][1]++;}__cov_3.s[&#x27;778&#x27;]++;if(typeo\
f data===&#x27;number&#x27;){__cov_3.b[&#x27;185&#x27;][0]++;__cov_3.s[&#x27;779&#x27;]++;if(typeof propDef.multipleOf===&#x27;number&#x27;){__cov_3.b[&#x27;186&#x27;][0]++;__cov\
_3.s[&#x27;780&#x27;]++;local.utility2.assert(data%propDef.multipleOf===0,prefix+&#x27; must be a multiple of &#x27;+propDef.multipleOf);}else{__cov\
_3.b[&#x27;186&#x27;][1]++;}__cov_3.s[&#x27;781&#x27;]++;if(typeof propDef.maximum===&#x27;number&#x27;){__cov_3.b[&#x27;187&#x27;][0]++;__cov_3.s[&#x27;782&#x27;]++;local.utilit\
y2.assert(propDef.exclusiveMaximum?(__cov_3.b[&#x27;188&#x27;][0]++,data&lt;propDef.maximum):(__cov_3.b[&#x27;188&#x27;][1]++,data&lt;=propDef.maximum),pr\
efix+&#x27; must be &#x27;+(propDef.exclusiveMaximum?(__cov_3.b[&#x27;189&#x27;][0]++,&#x27;&lt; &#x27;):(__cov_3.b[&#x27;189&#x27;][1]++,&#x27;&lt;= &#x27;))+propDef.maximum);}else{__\
cov_3.b[&#x27;187&#x27;][1]++;}__cov_3.s[&#x27;783&#x27;]++;if(typeof propDef.minimum===&#x27;number&#x27;){__cov_3.b[&#x27;190&#x27;][0]++;__cov_3.s[&#x27;784&#x27;]++;local.uti\
lity2.assert(propDef.exclusiveMinimum?(__cov_3.b[&#x27;191&#x27;][0]++,data&gt;propDef.minimum):(__cov_3.b[&#x27;191&#x27;][1]++,data&gt;=propDef.minimum)\
,prefix+&#x27; must be &#x27;+(propDef.exclusiveMinimum?(__cov_3.b[&#x27;192&#x27;][0]++,&#x27;&gt; &#x27;):(__cov_3.b[&#x27;192&#x27;][1]++,&#x27;&gt;= &#x27;))+propDef.minimum);}else\
{__cov_3.b[&#x27;190&#x27;][1]++;}}else{__cov_3.b[&#x27;185&#x27;][1]++;__cov_3.s[&#x27;785&#x27;]++;if(typeof data===&#x27;string&#x27;){__cov_3.b[&#x27;193&#x27;][0]++;__cov_3.\
s[&#x27;786&#x27;]++;if(propDef.maxLength){__cov_3.b[&#x27;194&#x27;][0]++;__cov_3.s[&#x27;787&#x27;]++;local.utility2.assert(data.length&lt;=propDef.maxLength,p\
refix+&#x27; must have &lt;= &#x27;+propDef.maxLength+&#x27; characters&#x27;);}else{__co ...</pre></li>
        <li>example usage<pre class="docApiCodePre">...
        tmp = propDef.multipleOf * Math.floor(tmp / propDef.multipleOf);
        if (tmp &lt; min) {
            tmp += propDef.multipleOf;
        }
    }
    // try to validate data
    local.utility2.tryCatchOnError(function () {
        local.swgg.<span class="docApiCodeKeywordSpan">validateByPropDef</span>({
            data: tmp,
            key: propDef.name,
            schema: propDef
        });
        collectDoc[key] = tmp;
    }, local.utility2.nop);
});
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.validateBySchema" id="element.swgg.validateBySchema">
            function <span class="docApiSignatureSpan">swgg.</span>validateBySchema
            <span class="docApiSignatureSpan">(options)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">validateBySchema = function (options){__cov_3.f[&#x27;113&#x27;]++;__cov_3.s[&#x27;845&#x27;]++;var data,key,prefix,propDefDict,schema,tmp,validateByPropDef;__cov_3.s[\
&#x27;846&#x27;]++;local.swgg.validateByPropDef(options);__cov_3.s[&#x27;847&#x27;]++;local.utility2.tryCatchOnError(function(){__cov_3.f[&#x27;114&#x27;]++;_\
_cov_3.s[&#x27;848&#x27;]++;data=options.data;__cov_3.s[&#x27;849&#x27;]++;prefix=&#x27;schema &#x27;+options.key;__cov_3.s[&#x27;850&#x27;]++;schema=options.schema;__c\
ov_3.s[&#x27;851&#x27;]++;local.utility2.assert((__cov_3.b[&#x27;217&#x27;][0]++,schema)&amp;&amp;(__cov_3.b[&#x27;217&#x27;][1]++,typeof schema===&#x27;object&#x27;),prefix+&#x27; \
must be an object (not &#x27;+typeof schema+&#x27;)&#x27;);__cov_3.s[&#x27;852&#x27;]++;propDefDict=(__cov_3.b[&#x27;218&#x27;][0]++,schema.properties)||(__cov_3.b\
[&#x27;218&#x27;][1]++,{});__cov_3.s[&#x27;853&#x27;]++;local.utility2.assert((__cov_3.b[&#x27;219&#x27;][0]++,data)&amp;&amp;(__cov_3.b[&#x27;219&#x27;][1]++,typeof data===&#x27;ob\
ject&#x27;)||(__cov_3.b[&#x27;219&#x27;][2]++,!Object.keys(propDefDict).length),&#x27;data for &#x27;+prefix+&#x27; must be an object (not &#x27;+typeof data+&#x27;)&#x27;);\
__cov_3.s[&#x27;854&#x27;]++;if(typeof data!==&#x27;object&#x27;){__cov_3.b[&#x27;220&#x27;][0]++;__cov_3.s[&#x27;855&#x27;]++;return;}else{__cov_3.b[&#x27;220&#x27;][1]++;}__cov\
_3.s[&#x27;856&#x27;]++;validateByPropDef=function(propDef){__cov_3.f[&#x27;115&#x27;]++;__cov_3.s[&#x27;857&#x27;]++;if((__cov_3.b[&#x27;222&#x27;][0]++,propDef.readOn\
ly)&amp;&amp;(__cov_3.b[&#x27;222&#x27;][1]++,((__cov_3.b[&#x27;223&#x27;][0]++,options.dataReadonlyRemove)||(__cov_3.b[&#x27;223&#x27;][1]++,{})).hasOwnProperty(key)\
)){__cov_3.b[&#x27;221&#x27;][0]++;__cov_3.s[&#x27;858&#x27;]++;delete options.dataReadonlyRemove[key];}else{__cov_3.b[&#x27;221&#x27;][1]++;}__cov_3.s[&#x27;859&#x27;]\
++;local.swgg.validateByPropDef({circularList:options.circularList,data:data[key],dataReadonlyRemove:((__cov_3.b[&#x27;224&#x27;][0]++,opt\
ions.dataReadonlyRemove)||(__cov_3.b[&#x27;224&#x27;][1]++,{}))[key],key:key,schema:propDef,required:(__cov_3.b[&#x27;225&#x27;][0]++,schema.require\
d)&amp;&amp;(__cov_3.b[&#x27;225&#x27;][1]++,schema.required.indexOf(key)&gt;=0),&#x27;x-swgg-notRequired&#x27;:options[&#x27;x-swgg-notRequired&#x27;]});};__cov_3.s[&#x27;86\
0&#x27;]++;Object.keys(propDefDict).forEach(function(_){__cov_3.f[&#x27;116&#x27;]++;__cov_3.s[&#x27;861&#x27;]++;key=_;__cov_3.s[&#x27;862&#x27;]++;validateByProp\
Def(propDefDict[key]);});__cov_3.s[&#x27;863&#x27;]++;Object.keys(data).forEach(function(_){__cov_3.f[&#x27;117&#x27;]++;__cov_3.s[&#x27;864&#x27;]++;key=_;__\
cov_3.s[&#x27;865&#x27;]++;if(propDefDict[key]){__cov_3.b[&#x27;226&#x27;][0]++;__cov_3.s[&#x27;866&#x27;]++;return;}else{__cov_3.b[&#x27;226&#x27;][1]++;}__cov_3.s[&#x27;86\
7&#x27;]++;tmp=Object.keys((__cov_3.b[&#x27;227&#x27;][0]++,schema.patternProperties)||(__cov_3.b[&#x27;227&#x27;][1]++,{})).some(function(_){__cov_3.f[&#x27;\
118&#x27;]++;__cov_3.s[&#x27;868&#x27;]++;if(new RegExp(_).test(key)){__cov_3.b[&#x27;228&#x27;][0]++;__cov_3.s[&#x27;869&#x27;]++;validateByPropDef(schema.pattern\
Properties[_]);__cov_3.s[&#x27;870&#x27;]++;return true;}else{__cov_3.b[&#x27;228&#x27;][1]++;}});__cov_3.s[&#x27;871&#x27;]++;if(tmp){__cov_3.b[&#x27;229&#x27;][0]++;_\
_cov_3.s[&#x27;872&#x27;]++;return;}else{__cov_3.b[&#x27;229&#x27;][1]++;}__cov_3.s[&#x27;873&#x27;]++;local.utility2.assert(schema.additionalProperties!==fal\
se,prefix+&#x27; must not have additionalProperties - &#x27;+key);__cov_3.s[&#x27;874&#x27;]++;if(schema.additionalProperties){__cov_3.b[&#x27;230&#x27;][0]++\
;__cov_3.s[&#x27;875&#x27;]++;validateByPropDef(schema.additionalProperties);}else{__cov_3.b[&#x27;230&#x27;][1]++;}});},function(error){__cov_3.f[&#x27;\
119&#x27;]++;__cov_3.s[&#x27;876&#x27;]++;local.utility2.errorMessagePrepend(error,options.key+&#x27;.&#x27;+key+&#x27; -&gt; &#x27;);__cov_3.s[&#x27;877&#x27;]++;throw error;}\
);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
        element.data = local.utility2.jsonCopy(options.data);
        element.data[element.key] = element.value;
        element.schema = options.schema;
        // test circular-reference handling-behavior
        element.data.propArraySubdoc = element.data.propArraySubdoc || [element.data];
        element.data.propObject = element.data.propObject || element.data;
        element.data.propObjectSubdoc = element.data.propObjectSubdoc || element.data;
        local.swgg.<span class="docApiCodeKeywordSpan">validateBySchema</span>(element);
    });
    onError();
};

local.testCase_validateBySchema_error = function (options, onError) {
/*
 * this function will test validateBySchema&#x27;s error handling-behavior
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.validateBySwagger" id="element.swgg.validateBySwagger">
            function <span class="docApiSignatureSpan">swgg.</span>validateBySwagger
            <span class="docApiSignatureSpan">(options)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">validateBySwagger = function (options){__cov_3.f[&#x27;120&#x27;]++;__cov_3.s[&#x27;879&#x27;]++;var key,schema,tmp,validateDefault;__cov_3.s[&#x27;880&#x27;]++;local.swgg.valida\
teBySchema({data:options,key:&#x27;swaggerJson&#x27;,schema:local.swgg.swaggerSchemaJson});__cov_3.s[&#x27;881&#x27;]++;validateDefault=function(){_\
_cov_3.f[&#x27;121&#x27;]++;__cov_3.s[&#x27;882&#x27;]++;if(schema.default!==undefined){__cov_3.b[&#x27;231&#x27;][0]++;__cov_3.s[&#x27;883&#x27;]++;return;}else{__cov_\
3.b[&#x27;231&#x27;][1]++;}__cov_3.s[&#x27;884&#x27;]++;local.swgg.validateByPropDef({data:schema.default,key:key+&#x27;.default&#x27;,schema:schema});};__cov\
_3.s[&#x27;885&#x27;]++;Object.keys(options.definitions).forEach(function(schemaName){__cov_3.f[&#x27;122&#x27;]++;__cov_3.s[&#x27;886&#x27;]++;schema=options\
.definitions[schemaName];__cov_3.s[&#x27;887&#x27;]++;key=schemaName;__cov_3.s[&#x27;888&#x27;]++;validateDefault();__cov_3.s[&#x27;889&#x27;]++;Object.keys((\
__cov_3.b[&#x27;232&#x27;][0]++,options.definitions[schemaName].properties)||(__cov_3.b[&#x27;232&#x27;][1]++,{})).forEach(function(propName){__cov_\
3.f[&#x27;123&#x27;]++;__cov_3.s[&#x27;890&#x27;]++;schema=options.definitions[schemaName].properties[propName];__cov_3.s[&#x27;891&#x27;]++;key=schemaName+&#x27;.\
&#x27;+propName;__cov_3.s[&#x27;892&#x27;]++;validateDefault();});});__cov_3.s[&#x27;893&#x27;]++;Object.keys(options.paths).forEach(function(pathName){_\
_cov_3.f[&#x27;124&#x27;]++;__cov_3.s[&#x27;894&#x27;]++;Object.keys(options.paths[pathName]).forEach(function(methodName){__cov_3.f[&#x27;125&#x27;]++;__cov_\
3.s[&#x27;895&#x27;]++;tmp=options.paths[pathName][methodName];__cov_3.s[&#x27;896&#x27;]++;Object.keys(tmp.parameters).forEach(function(paramName){\
__cov_3.f[&#x27;126&#x27;]++;__cov_3.s[&#x27;897&#x27;]++;schema=tmp.parameters[paramName];__cov_3.s[&#x27;898&#x27;]++;key=tmp.tags[0]+&#x27;.&#x27;+tmp.operationId+&#x27;.\
&#x27;+paramName;__cov_3.s[&#x27;899&#x27;]++;validateDefault();});});});}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
        /*
* this function will test validateBySwagger&#x27;s default handling-behavior
*/
   options = {};
   // test null-case handling-behavior
   [null, undefined, {}].forEach(function (element) {
       local.utility2.tryCatchOnError(function () {
           local.swgg.<span class="docApiCodeKeywordSpan">validateBySwagger</span>(element);
       }, local.utility2.nop);
       // validate error occurred
       local.utility2.assert(local.utility2.tryCatchErrorCaught, element);
   });
   options.templateData = JSON.stringify({
       definitions: {
           Test: {
...</pre></li>
        </ul>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    </div>
    
    <div class="docApiSectionDiv">
    <h1><a href="#module.swgg.Nedb" id="module.swgg.Nedb">module swgg.Nedb</a></h1>
        
        
        <h2>
            <a href="#element.swgg.Nedb.Nedb" id="element.swgg.Nedb.Nedb">
            function <span class="docApiSignatureSpan">swgg.</span>Nedb
            <span class="docApiSignatureSpan">(options)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">function Datastore(options) {
  var filename;

  // Retrocompatibility with v0.6 and before
  if (typeof options === &#x27;string&#x27;) {
    filename = options;
    this.inMemoryOnly = false;   // Default
  } else {
    options = options || {};
    filename = options.filename;
    this.inMemoryOnly = options.inMemoryOnly || false;
    this.autoload = options.autoload || false;
    this.timestampData = options.timestampData || false;
  }

  // Determine whether in memory or persistent
  if (!filename || typeof filename !== &#x27;string&#x27; || filename.length === 0) {
    this.filename = null;
    this.inMemoryOnly = true;
  } else {
    this.filename = filename;
  }

  // String comparison function
  this.compareStrings = options.compareStrings;

  // Persistence handling
  this.persistence = new Persistence({ db: this, nodeWebkitAppName: options.nodeWebkitAppName
                                      , afterSerialization: options.afterSerialization
                                      , beforeDeserialization: options.beforeDeserialization
                                      , corruptAlertThreshold: options.corruptAlertThreshold
                                      });

  // This new executor is ready if we don&#x27;t use persistence
  // If we do, it will only be ready once loadDatabase is called
  this.executor = new Executor();
  if (this.inMemoryOnly) { this.executor.ready = true; }

  // Indexed by field name, dot notation can be used
  // _id is always indexed and since _ids are generated randomly the underlying
  // binary is always well-balanced
  this.indexes = {};
  this.indexes._id = new Index({ fieldName: &#x27;_id&#x27;, unique: true });
  this.ttlIndexes = {};

  // Queue a load of the database right away and call the onload handler
  // By default (no onload handler), if there is an error there, no operation will be possible so warn the user by throwing an e\
xception
  if (this.autoload) { this.loadDatabase(options.onload || function (err) {
    if (err) { throw err; }
  }); }
}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
                local.fs.mkdirSync(&#x27;tmp&#x27;);
            }, local.utility2.nop);
            local.utility2.tryCatchOnError(function () {
                local.fs.mkdirSync(dir);
            }, local.utility2.nop);
        }
        local.swgg.modeNedbInitialized = true;
        local.swgg.collectionDict[schemaName] = new local.swgg.<span class="docApiCodeKeywordSpan">Nedb</span>({
            autoload: true,
            filename: dir + &#x27;/&#x27; + schemaName,
            timestampData: true
        });
    }
    return local.swgg.collectionDict[schemaName];
};
...</pre></li>
        </ul>
        
        
    </div>
    
    <div class="docApiSectionDiv">
    <h1><a href="#module.swgg.Nedb.prototype" id="module.swgg.Nedb.prototype">module swgg.Nedb.prototype</a></h1>
        
        
        <h2>
            <a href="#element.swgg.Nedb.prototype.addToIndexes" id="element.swgg.Nedb.prototype.addToIndexes">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>addToIndexes
            <span class="docApiSignatureSpan">(doc)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">addToIndexes = function (doc) {
  var i, failingIndex, error
    , keys = Object.keys(this.indexes)
    ;

  for (i = 0; i &lt; keys.length; i += 1) {
    try {
      this.indexes[keys[i]].insert(doc);
    } catch (e) {
      failingIndex = i;
      error = e;
      break;
    }
  }

  // If an error happened, we need to rollback the insert on all other indexes
  if (error) {
    for (i = 0; i &lt; failingIndex; i += 1) {
      this.indexes[keys[i]].remove(doc);
    }

    throw error;
  }
}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.prototype.count" id="element.swgg.Nedb.prototype.count">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>count
            <span class="docApiSignatureSpan">(query, callback)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">count = function (query, callback) {
  var cursor = new Cursor(this, query, function(err, docs, callback) {
    if (err) { return callback(err); }
    return callback(null, docs.length);
  });

  if (typeof callback === &#x27;function&#x27;) {
    cursor.exec(callback);
  } else {
    return cursor;
  }
}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    : modeNext + 1;
switch (modeNext) {
case 1:
    crud = request.swgg.crud;
    user = request.swgg.user;
    switch (crud.operationId.split(&#x27;.&#x27;)[0]) {
    case &#x27;crudCountManyByQuery&#x27;:
        crud.collection.<span class="docApiCodeKeywordSpan">count</span>(crud.queryWhere, onNext);
        break;
    case &#x27;crudCreateOrReplaceMany&#x27;:
        crud.collection.remove({ id: {
            $in: crud.body.map(function (collectDoc) {
                return collectDoc.id;
            })
        } }, { multi: true }, onNext);
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.prototype.createNewId" id="element.swgg.Nedb.prototype.createNewId">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>createNewId
            <span class="docApiSignatureSpan">()</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">createNewId = function () {
  var tentativeId = customUtils.uid(16);
  // Try as many times as needed to get an unused _id. As explained in customUtils, the probability of this ever happening is ex\
tremely small, so this is O(1)
  if (this.indexes._id.getMatching(tentativeId).length &gt; 0) {
    tentativeId = this.createNewId();
  }
  return tentativeId;
}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.prototype.ensureIndex" id="element.swgg.Nedb.prototype.ensureIndex">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>ensureIndex
            <span class="docApiSignatureSpan">(options, cb)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">ensureIndex = function (options, cb) {
  var err
    , callback = cb || function () {};

  options = options || {};

  if (!options.fieldName) {
    err = new Error(&quot;Cannot create an index without a fieldName&quot;);
    err.missingFieldName = true;
    return callback(err);
  }
  if (this.indexes[options.fieldName]) { return callback(null); }

  this.indexes[options.fieldName] = new Index(options);
  if (options.expireAfterSeconds !== undefined) { this.ttlIndexes[options.fieldName] = options.expireAfterSeconds; }   // With t\
his implementation index creation is not necessary to ensure TTL but we stick with MongoDB&#x27;s API here

  try {
    this.indexes[options.fieldName].insert(this.getAllData());
  } catch (e) {
    delete this.indexes[options.fieldName];
    return callback(e);
  }

  // We may want to force all options to be persisted including defaults, not just the ones passed the index creation function
  this.persistence.persistNewState([{ $$indexCreated: options }], function (err) {
    if (err) { return callback(err); }
    return callback(null);
  });
}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    onParallel();
    break;
case 3:
    onParallel.counter += 1;
    // ensureIndex
    options.ensureIndexList.forEach(function (index) {
        onParallel.counter += 1;
        collection.<span class="docApiCodeKeywordSpan">ensureIndex</span>(index, onParallel);
    });
    onParallel();
    break;
case 4:
    onParallel.counter += 1;
    // upsert collectDoc
    options.collectDocList.forEach(function (collectDoc) {
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.prototype.find" id="element.swgg.Nedb.prototype.find">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>find
            <span class="docApiSignatureSpan">(query, projection, callback)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">find = function (query, projection, callback) {
  switch (arguments.length) {
    case 1:
      projection = {};
      // callback is undefined, will return a cursor
      break;
    case 2:
      if (typeof projection === &#x27;function&#x27;) {
        callback = projection;
        projection = {};
      }   // If not assume projection is an object and callback undefined
      break;
  }

  var cursor = new Cursor(this, query, function(err, docs, callback) {
    var res = [], i;

    if (err) { return callback(err); }

    for (i = 0; i &lt; docs.length; i += 1) {
      res.push(model.deepCopy(docs[i]));
    }
    return callback(null, res);
  });

  cursor.projection(projection);
  if (typeof callback === &#x27;function&#x27;) {
    cursor.exec(callback);
  } else {
    return cursor;
  }
}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    crud = request.swgg.crud;
    switch (crud.operationId.split(&#x27;.&#x27;)[0]) {
    // coverage-hack - test error handling-behavior
    case &#x27;crudErrorPre&#x27;:
        onNext(local.utility2.errorDefault);
        return;
    case &#x27;getInventory&#x27;:
        crud.collection.<span class="docApiCodeKeywordSpan">find</span>({}, { status: 1 }, onNext);
        break;
    default:
        modeNext = Infinity;
        onNext();
    }
    break;
case 2:
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.prototype.findOne" id="element.swgg.Nedb.prototype.findOne">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>findOne
            <span class="docApiSignatureSpan">(query, projection, callback)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">findOne = function (query, projection, callback) {
  switch (arguments.length) {
    case 1:
      projection = {};
      // callback is undefined, will return a cursor
      break;
    case 2:
      if (typeof projection === &#x27;function&#x27;) {
        callback = projection;
        projection = {};
      }   // If not assume projection is an object and callback undefined
      break;
  }

  var cursor = new Cursor(this, query, function(err, docs, callback) {
    if (err) { return callback(err); }
    if (docs.length === 1) {
      return callback(null, model.deepCopy(docs[0]));
    } else {
      return callback(null, null);
    }
  });

  cursor.projection(projection).limit(1);
  if (typeof callback === &#x27;function&#x27;) {
    cursor.exec(callback);
  } else {
    return cursor;
  }
}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
case &#x27;crudErrorOptions&#x27;:
case &#x27;crudErrorPatch&#x27;:
case &#x27;crudErrorPost&#x27;:
case &#x27;crudErrorPut&#x27;:
    onNext(local.utility2.errorDefault);
    break;
case &#x27;crudExistsOneByKeyUnique&#x27;:
    crud.collection.<span class="docApiCodeKeywordSpan">findOne</span>(crud.queryByKeyUnique, { $: 1 }, onNext);
    break;
case &#x27;crudGetManyByQuery&#x27;:
    onParallel = local.utility2.onParallel(onNext);
    onParallel.counter += 1;
    crud.collection.find(crud.queryWhere, crud.queryFields)
        .sort(crud.querySort)
        .skip(crud.querySkip)
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.prototype.getAllData" id="element.swgg.Nedb.prototype.getAllData">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>getAllData
            <span class="docApiSignatureSpan">()</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">getAllData = function () {
  return this.indexes._id.getAll();
}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.prototype.getCandidates" id="element.swgg.Nedb.prototype.getCandidates">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>getCandidates
            <span class="docApiSignatureSpan">(query, dontExpireStaleDocs, callback)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">getCandidates = function (query, dontExpireStaleDocs, callback) {
  var indexNames = Object.keys(this.indexes)
    , self = this
    , usableQueryKeys;

  if (typeof dontExpireStaleDocs === &#x27;function&#x27;) {
    callback = dontExpireStaleDocs;
    dontExpireStaleDocs = false;
  }


  async.waterfall([
  // STEP 1: get candidates list by checking indexes from most to least frequent usecase
  function (cb) {
    // For a basic match
    usableQueryKeys = [];
    Object.keys(query).forEach(function (k) {
      if (typeof query[k] === &#x27;string&#x27; || typeof query[k] === &#x27;number&#x27; || typeof query[k] === &#x27;boolean&#x27; || util.isDate(query[k])\
 || query[k] === null) {
        usableQueryKeys.push(k);
      }
    });
    usableQueryKeys = _.intersection(usableQueryKeys, indexNames);
    if (usableQueryKeys.length &gt; 0) {
      return cb(null, self.indexes[usableQueryKeys[0]].getMatching(query[usableQueryKeys[0]]));
    }

    // For a $in match
    usableQueryKeys = [];
    Object.keys(query).forEach(function (k) {
      if (query[k] &amp;&amp; query[k].hasOwnProperty(&#x27;$in&#x27;)) {
        usableQueryKeys.push(k);
      }
    });
    usableQueryKeys = _.intersection(usableQueryKeys, indexNames);
    if (usableQueryKeys.length &gt; 0) {
      return cb(null, self.indexes[usableQueryKeys[0]].getMatching(query[usableQueryKeys[0]].$in));
    }

    // For a comparison match
    usableQueryKeys = [];
    Object.keys(query).forEach(function (k) {
      if (query[k] &amp;&amp; (query[k].hasOwnProperty(&#x27;$lt&#x27;) || query[k].hasOwnProperty(&#x27;$lte&#x27;) || query[k].hasOwnProperty(&#x27;$gt&#x27;) || qu\
ery[k].hasOwnProperty(&#x27;$gte&#x27;))) {
        usableQueryKeys.push(k);
      }
    });
    usableQueryKeys = _.intersection(usableQueryKeys, indexNames);
    if (usableQueryKeys.length &gt; 0) {
      return cb(null, self.indexes[usableQueryKeys[0]].getBetweenBounds(query[usableQueryKeys[0]]));
    }

    // By default, return all the DB data
    return cb(null, self.getAllData());
  }
  // STEP 2: remove all expired documents
  , function (docs) {
    if (dontExpireStaleDocs) { return callback(null, docs); }

    var expiredDocsIds = [], validDocs = [], ttlIndexesFieldNames = Object.keys(self.ttlIndexes);

    docs.forEach(function (doc) {
      var valid = true;
      ttlIndexesFieldNames.forEach(function (i) {
        if (doc[i] !== undefined &amp;&amp; util.isDate(doc[i]) &amp;&amp; Date.now() &gt; doc[i].getTime() + self.ttlIndexes[i] * 1000) {
          valid = false;
        }
      });
      if (valid) { validDocs.push(doc); } else { expiredDocsIds.push(doc._id); }
    });

    async.eachSeries(expiredDocsIds, function (_id, cb) {
      self._remove({ _id: _id }, {}, function (err) {
        if (err) { return callback(err); }
        return cb();
      });
    }, function (err) {
      return callback(null, validDocs);
    });
  }]);
}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.prototype.insert" id="element.swgg.Nedb.prototype.insert">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>insert
            <span class="docApiSignatureSpan">()</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">insert = function () {
  this.executor.push({ this: this, fn: this._insert, arguments: arguments });
}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
                fileSize: request.swgg.bodyParsed[key].length,
                fileUrl: local.swgg.swaggerJson.basePath + &#x27;/&#x27; +
                    request.swgg.pathObject._tags0 +
                    &#x27;/fileGetOneByKeyUnique/&#x27; + tmp.id
            });
            return tmp;
        });
    local.swgg.collectionFile.<span class="docApiCodeKeywordSpan">insert</span>(crud.body, onNext);
    break;
case &#x27;userLoginByPassword&#x27;:
case &#x27;userLogout&#x27;:
    // respond with 401 Unauthorized
    if (!user.isAuthenticated) {
        local.utility2.serverRespondHeadSet(request, response, 401, {});
        request.swgg.crud.endArgList = [request, response];
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.prototype.loadDatabase" id="element.swgg.Nedb.prototype.loadDatabase">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>loadDatabase
            <span class="docApiSignatureSpan">()</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">loadDatabase = function () {
  this.executor.push({ this: this.persistence, fn: this.persistence.loadDatabase, arguments: arguments }, true);
}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
collection = local.swgg.collectionCreate(options.name);
// drop collection
if (options.drop) {
    onParallel.counter += 1;
    local.swgg.Nedb.storage.unlink(String(
        collection.filename
    ), function () {
        collection.<span class="docApiCodeKeywordSpan">loadDatabase</span>(function () {
            onParallel.counter += 1;
            collection.remove({}, { multi: true }, onParallel);
            // drop indexes
            Object.keys(collection.indexes)
                // coverage-hack - test removeIndex handling-behavior
                .concat(&#x27;undefined&#x27;)
                .forEach(function (key) {
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.prototype.prepareDocumentForInsertion" id="element.swgg.Nedb.prototype.prepareDocumentForInsertion">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>prepareDocumentForInsertion
            <span class="docApiSignatureSpan">(newDoc)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">prepareDocumentForInsertion = function (newDoc) {
  var preparedDoc, self = this;

  if (util.isArray(newDoc)) {
    preparedDoc = [];
    newDoc.forEach(function (doc) { preparedDoc.push(self.prepareDocumentForInsertion(doc)); });
  } else {
    preparedDoc = model.deepCopy(newDoc);
    if (preparedDoc._id === undefined) { preparedDoc._id = this.createNewId(); }
    var now = new Date();
    if (this.timestampData &amp;&amp; preparedDoc.createdAt === undefined) { preparedDoc.createdAt = now; }
    if (this.timestampData &amp;&amp; preparedDoc.updatedAt === undefined) { preparedDoc.updatedAt = now; }
    model.checkObject(preparedDoc);
  }

  return preparedDoc;
}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.prototype.remove" id="element.swgg.Nedb.prototype.remove">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>remove
            <span class="docApiSignatureSpan">()</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">remove = function () {
  this.executor.push({ this: this, fn: this._remove, arguments: arguments });
}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
                    if (options.drop) {
onParallel.counter += 1;
local.swgg.Nedb.storage.unlink(String(
    collection.filename
), function () {
    collection.loadDatabase(function () {
        onParallel.counter += 1;
        collection.<span class="docApiCodeKeywordSpan">remove</span>({}, { multi: true }, onParallel);
        // drop indexes
        Object.keys(collection.indexes)
            // coverage-hack - test removeIndex handling-behavior
            .concat(&#x27;undefined&#x27;)
            .forEach(function (key) {
                if (key !== &#x27;_id&#x27;) {
                    onParallel.counter += 1;
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.prototype.removeFromIndexes" id="element.swgg.Nedb.prototype.removeFromIndexes">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>removeFromIndexes
            <span class="docApiSignatureSpan">(doc)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">removeFromIndexes = function (doc) {
  var self = this;

  Object.keys(this.indexes).forEach(function (i) {
    self.indexes[i].remove(doc);
  });
}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.prototype.removeIndex" id="element.swgg.Nedb.prototype.removeIndex">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>removeIndex
            <span class="docApiSignatureSpan">(fieldName, cb)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">removeIndex = function (fieldName, cb) {
  var callback = cb || function () {};

  delete this.indexes[fieldName];

  this.persistence.persistNewState([{ $$indexRemoved: fieldName }], function (err) {
    if (err) { return callback(err); }
    return callback(null);
  });
}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
            // drop indexes
            Object.keys(collection.indexes)
                // coverage-hack - test removeIndex handling-behavior
                .concat(&#x27;undefined&#x27;)
                .forEach(function (key) {
                    if (key !== &#x27;_id&#x27;) {
                        onParallel.counter += 1;
                        collection.<span class="docApiCodeKeywordSpan">removeIndex</span>(key, onParallel);
                    }
                });
            onParallel();
        });
    });
}
onParallel();
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.prototype.resetIndexes" id="element.swgg.Nedb.prototype.resetIndexes">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>resetIndexes
            <span class="docApiSignatureSpan">(newData)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">resetIndexes = function (newData) {
  var self = this;

  Object.keys(this.indexes).forEach(function (i) {
    self.indexes[i].reset(newData);
  });
}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.prototype.update" id="element.swgg.Nedb.prototype.update">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>update
            <span class="docApiSignatureSpan">()</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">update = function () {
  this.executor.push({ this: this, fn: this._update, arguments: arguments });
}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    onParallel();
    break;
case 4:
    onParallel.counter += 1;
    // upsert collectDoc
    options.collectDocList.forEach(function (collectDoc) {
        onParallel.counter += 1;
        collection.<span class="docApiCodeKeywordSpan">update</span>({ id: collectDoc.id }, collectDoc, {
            upsert: true
        }, onParallel);
    });
    onParallel();
    break;
default:
    onError(error);
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.prototype.updateIndexes" id="element.swgg.Nedb.prototype.updateIndexes">
            function <span class="docApiSignatureSpan">swgg.Nedb.prototype.</span>updateIndexes
            <span class="docApiSignatureSpan">(oldDoc, newDoc)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">updateIndexes = function (oldDoc, newDoc) {
  var i, failingIndex, error
    , keys = Object.keys(this.indexes)
    ;

  for (i = 0; i &lt; keys.length; i += 1) {
    try {
      this.indexes[keys[i]].update(oldDoc, newDoc);
    } catch (e) {
      failingIndex = i;
      error = e;
      break;
    }
  }

  // If an error happened, we need to rollback the update on all other indexes
  if (error) {
    for (i = 0; i &lt; failingIndex; i += 1) {
      this.indexes[keys[i]].revertUpdate(oldDoc, newDoc);
    }

    throw error;
  }
}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
    </div>
    
    <div class="docApiSectionDiv">
    <h1><a href="#module.swgg.Nedb.storage" id="module.swgg.Nedb.storage">module swgg.Nedb.storage</a></h1>
        
        
        <h2>
            <a href="#element.swgg.Nedb.storage.appendFile" id="element.swgg.Nedb.storage.appendFile">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>appendFile
            <span class="docApiSignatureSpan">(file1, file2)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">appendFile = function (file1, file2) {
    local.Nedb.fileDict[file1] = true;
    if (key === &#x27;rename&#x27;) {
        local.Nedb.fileDict[file2] = true;
    }
    local.Nedb.storage[&#x27;_&#x27; + key].apply(local.Nedb.storage, arguments);
}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.storage.crashSafeWriteFile" id="element.swgg.Nedb.storage.crashSafeWriteFile">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>crashSafeWriteFile
            <span class="docApiSignatureSpan">(file1, file2)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">crashSafeWriteFile = function (file1, file2) {
    local.Nedb.fileDict[file1] = true;
    if (key === &#x27;rename&#x27;) {
        local.Nedb.fileDict[file2] = true;
    }
    local.Nedb.storage[&#x27;_&#x27; + key].apply(local.Nedb.storage, arguments);
}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.storage.ensureDatafileIntegrity" id="element.swgg.Nedb.storage.ensureDatafileIntegrity">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>ensureDatafileIntegrity
            <span class="docApiSignatureSpan">(file1, file2)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">ensureDatafileIntegrity = function (file1, file2) {
    local.Nedb.fileDict[file1] = true;
    if (key === &#x27;rename&#x27;) {
        local.Nedb.fileDict[file2] = true;
    }
    local.Nedb.storage[&#x27;_&#x27; + key].apply(local.Nedb.storage, arguments);
}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.storage.ensureFileDoesntExist" id="element.swgg.Nedb.storage.ensureFileDoesntExist">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>ensureFileDoesntExist
            <span class="docApiSignatureSpan">(file, callback)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">ensureFileDoesntExist = function (file, callback) {
  storage.exists(file, function (exists) {
    if (!exists) { return callback(null); }

    storage.unlink(file, function (err) { return callback(err); });
  });
}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.storage.exists" id="element.swgg.Nedb.storage.exists">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>exists
            <span class="docApiSignatureSpan">(path, callback)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">exists = function (path, callback) {
  if (!nullCheck(path, cb)) return;
  var req = new FSReqWrap();
  req.oncomplete = cb;
  binding.stat(pathModule._makeLong(path), req);
  function cb(err, stats) {
    if (callback) callback(err ? false : true);
  }
}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.storage.flushToStorage" id="element.swgg.Nedb.storage.flushToStorage">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>flushToStorage
            <span class="docApiSignatureSpan">(options, callback)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">flushToStorage = function (options, callback) {
  var filename, flags;
  if (typeof options === &#x27;string&#x27;) {
    filename = options;
    flags = &#x27;r+&#x27;;
  } else {
    filename = options.filename;
    flags = options.isDir ? &#x27;r&#x27; : &#x27;r+&#x27;;
  }

  // Windows can&#x27;t fsync (FlushFileBuffers) directories. We can live with this as it cannot cause 100% dataloss
  // except in the very rare event of the first time database is loaded and a crash happens
  if (flags === &#x27;r&#x27; &amp;&amp; (process.platform === &#x27;win32&#x27; || process.platform === &#x27;win64&#x27;)) { return callback(null); }

  fs.open(filename, flags, function (err, fd) {
    if (err) { return callback(err); }
    fs.fsync(fd, function (errFS) {
      fs.close(fd, function (errC) {
        if (errFS || errC) {
          var e = new Error(&#x27;Failed to flush to storage&#x27;);
          e.errorOnFsync = errFS;
          e.errorOnClose = errC;
          return callback(e);
        } else {
          return callback(null);
        }
      });
    });
  });
}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.storage.mkdirp" id="element.swgg.Nedb.storage.mkdirp">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>mkdirp
            <span class="docApiSignatureSpan">(dir, onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">mkdirp = function (dir, onError) {
<span class="docApiCodeCommentSpan">/*
 * simple, portable mkdirp code using fs.exists and child_process.spawnSync
 */
</span>    // for performance reasons,
    // only spawn the mkdir process if the dir does not exist
    local.require2(&#x27;fs&#x27;).exists(dir, function (exists) {
        // warning - no checks to see if the dir is a directory
        // (versus a file or a link)
        if (!exists) {
            try {
                local.child_process.spawnSync(
                    &#x27;mkdir&#x27;,
                    process.platform === &#x27;win32&#x27;
                        // windows mkdir implies the &#x27;-p&#x27; option
                        ? [dir]
                        : [&#x27;-p&#x27;, dir],
                    { stdio: [&#x27;ignore&#x27;, 1, 2] }
                );
            } catch (errorCaught) {
                onError(errorCaught);
                return;
            }
        }
        onError();
    });
}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.storage.readFile" id="element.swgg.Nedb.storage.readFile">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>readFile
            <span class="docApiSignatureSpan">(file1, file2)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">readFile = function (file1, file2) {
    local.Nedb.fileDict[file1] = true;
    if (key === &#x27;rename&#x27;) {
        local.Nedb.fileDict[file2] = true;
    }
    local.Nedb.storage[&#x27;_&#x27; + key].apply(local.Nedb.storage, arguments);
}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.storage.rename" id="element.swgg.Nedb.storage.rename">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>rename
            <span class="docApiSignatureSpan">(file1, file2)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">rename = function (file1, file2) {
    local.Nedb.fileDict[file1] = true;
    if (key === &#x27;rename&#x27;) {
        local.Nedb.fileDict[file2] = true;
    }
    local.Nedb.storage[&#x27;_&#x27; + key].apply(local.Nedb.storage, arguments);
}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.storage.unlink" id="element.swgg.Nedb.storage.unlink">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>unlink
            <span class="docApiSignatureSpan">(path, callback)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">unlink = function (path, callback) {
  callback = makeCallback(callback);
  if (!nullCheck(path, callback)) return;
  var req = new FSReqWrap();
  req.oncomplete = callback;
  binding.unlink(pathModule._makeLong(path), req);
}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    ensureIndexList: [],
    removeIndexList: []
});
collection = local.swgg.collectionCreate(options.name);
// drop collection
if (options.drop) {
    onParallel.counter += 1;
    local.swgg.Nedb.storage.<span class="docApiCodeKeywordSpan">unlink</span>(String(
        collection.filename
    ), function () {
        collection.loadDatabase(function () {
            onParallel.counter += 1;
            collection.remove({}, { multi: true }, onParallel);
            // drop indexes
            Object.keys(collection.indexes)
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.swgg.Nedb.storage.writeFile" id="element.swgg.Nedb.storage.writeFile">
            function <span class="docApiSignatureSpan">swgg.Nedb.storage.</span>writeFile
            <span class="docApiSignatureSpan">(file1, file2)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">writeFile = function (file1, file2) {
    local.Nedb.fileDict[file1] = true;
    if (key === &#x27;rename&#x27;) {
        local.Nedb.fileDict[file2] = true;
    }
    local.Nedb.storage[&#x27;_&#x27; + key].apply(local.Nedb.storage, arguments);
}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
    </div>
    
</div>
